src/api.py: "from flask import Flask, jsonify\nimport os\n\napp = Flask(__name__)\n\nLOG_LEVEL = os.getenv(\"LOG_LEVEL\", \"info\")\nAPP_ENV = os.getenv(\"APP_ENV\", \"production\")\n\n@app.route('/health')\n\
  def health():\n    return jsonify(status='ok', env=APP_ENV)\n\n@app.route('/api/version')\ndef version():\n    return jsonify(version=\"1.0.0\")\n\nif __name__ == \"__main__\":\n    app.run(host=\"0.0.0.0\"\
  , port=8080)\n"
requirements.txt: 'flask==2.3.0

  gunicorn==21.2.0

  '
Dockerfile: 'FROM python:3.12-slim

  WORKDIR /app

  COPY requirements.txt .

  RUN pip install --no-cache-dir -r requirements.txt

  COPY src/ ./src/

  EXPOSE 8080

  CMD ["gunicorn", "-b", "0.0.0.0:8080", "src.api:app"]

  '
common.yml: "version: '3.8'\nservices:\n  base:\n    environment:\n      - LOG_LEVEL=info\n    logging:\n      driver: json-file\n      options:\n        max-size: \"10m\"\n        max-file: \"3\"\n   \
  \ restart: unless-stopped\n"
docker-compose.yml: "version: '3.8'\nservices:\n  api:\n    extends:\n      file: common.yml\n      service: base\n    build: .\n    ports:\n      - \"8080:8080\"\n    environment:\n      - APP_ENV=production\n"
scripts/deploy.sh: '#!/bin/bash

  docker-compose up -d

  '
tests/test_extends.py: "def test_extends_config():\n    pass\n"
docs/compose-patterns.md: '# Compose Patterns

  '
k8s/base-deployment.yaml: 'apiVersion: apps/v1

  '
helm/values-common.yaml: ''
