src/logger.py: "import logging\nimport os\nimport sys\nfrom typing import Optional\n\nLOG_LEVEL = os.getenv(\"LOG_LEVEL\", \"INFO\")\nLOG_FORMAT = os.getenv(\"LOG_FORMAT\", \"%(asctime)s - %(name)s - %(levelname)s\
  \ - %(message)s\")\n\ndef setup_logging(level: Optional[str] = None):\n    effective_level = level or LOG_LEVEL\n    logging.basicConfig(\n        level=getattr(logging, effective_level),\n        format=LOG_FORMAT,\n\
  \        stream=sys.stdout\n    )\n\nlogger = logging.getLogger(__name__)\nsetup_logging()\n\ndef log_event(message: str):\n    logger.info(message)\n\ndef log_error(message: str, exc: Optional[Exception]\
  \ = None):\n    logger.error(message, exc_info=exc)\n"
src/app.py: "from flask import Flask, jsonify, request\nfrom logger import log_event, log_error\n\napp = Flask(__name__)\n\n@app.route('/health')\ndef health():\n    log_event(\"Health check requested\"\
  )\n    return jsonify(status='ok')\n\n@app.route('/api/process', methods=['POST'])\ndef process():\n    data = request.get_json()\n    log_event(f\"Processing request: {data}\")\n    return jsonify(result='processed')\n"
requirements.txt: 'flask==2.3.0

  gunicorn==21.2.0

  '
Dockerfile: 'FROM python:3.12-slim

  WORKDIR /app

  COPY requirements.txt .

  RUN pip install --no-cache-dir -r requirements.txt

  COPY src/ ./src/

  EXPOSE 8080

  CMD ["gunicorn", "-b", "0.0.0.0:8080", "src.app:app"]

  '
docker-compose.yml: "version: '3.8'\nservices:\n  app:\n    build: .\n    ports:\n      - \"8080:8080\"\n    environment:\n      - LOG_LEVEL=INFO\n    logging:\n      driver: json-file\n"
scripts/collect_logs.sh: '#!/bin/bash

  docker logs app_1 > /tmp/logs.txt

  '
tests/test_logging.py: "def test_log_event():\n    pass\n"
docs/observability.md: '# Observability Guide

  '
k8s/fluentbit-configmap.yaml: 'apiVersion: v1

  '
monitoring/promtail.yml: ''
