src/app.py: "import os\nimport pwd\nfrom flask import Flask, jsonify\n\napp = Flask(__name__)\n\n@app.route('/whoami')\ndef whoami():\n    return jsonify(\n        uid=os.getuid(),\n        gid=os.getgid(),\n\
  \        user=pwd.getpwuid(os.getuid()).pw_name\n    )\n\n@app.route('/health')\ndef health():\n    return jsonify(status='ok')\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=8080)\n"
requirements.txt: 'flask==2.3.0

  gunicorn==21.2.0

  '
Dockerfile: "FROM python:3.12-slim-bookworm AS base\nENV PYTHONDONTWRITEBYTECODE=1\nENV PYTHONUNBUFFERED=1\n\nFROM base AS dependencies\nWORKDIR /app\nCOPY requirements.txt .\nRUN pip install --no-cache-dir\
  \ -r requirements.txt\n\nFROM base AS production\nWORKDIR /app\n\n# Create non-root user with specific UID/GID for Kubernetes compatibility\nRUN groupadd --gid 1000 appgroup && \\\n    useradd --uid 1000\
  \ --gid appgroup --shell /bin/bash --create-home appuser && \\\n    mkdir -p /app/data /app/logs && \\\n    chown -R appuser:appgroup /app\n\nCOPY --from=dependencies /usr/local/lib/python3.12/site-packages\
  \ /usr/local/lib/python3.12/site-packages\nCOPY --from=dependencies /usr/local/bin /usr/local/bin\nCOPY --chown=appuser:appgroup src/ ./src/\n\n# Switch to non-root user\nUSER appuser:appgroup\n\nEXPOSE\
  \ 8080\n\nHEALTHCHECK --interval=30s --timeout=5s \\\n    CMD curl -f http://localhost:8080/health || exit 1\n\nCMD [\"gunicorn\", \"-w\", \"4\", \"-b\", \"0.0.0.0:8080\", \"src.app:app\"]\n"
scripts/setup_user.sh: '#!/bin/bash

  useradd -m appuser

  '
tests/test_security.py: "def test_non_root():\n    pass\n"
docs/security.md: '# Security

  '
k8s/pod-security.yaml: 'apiVersion: v1

  '
compliance/checks.yaml: ''
