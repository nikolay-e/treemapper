api/src/app.py: |
  from flask import Flask, jsonify
  from flask_cors import CORS
  import os

  app = Flask(__name__)
  CORS(app)

  @app.route('/health')
  def health():
      return jsonify(status='ok', service='api')

  @app.route('/api/v1/users')
  def get_users():
      return jsonify(users=[])

  if __name__ == '__main__':
      app.run(host='0.0.0.0', port=8080)
api/requirements.txt: |
  flask==2.3.0
  flask-cors==4.0.0
  gunicorn==21.2.0
api/Dockerfile: |
  FROM python:3.12-slim
  WORKDIR /app
  COPY requirements.txt .
  RUN pip install -r requirements.txt
  COPY src/ ./src/
  CMD ["gunicorn", "-b", "0.0.0.0:8080", "src.app:app"]
docker-compose.yml: |
  version: '3.8'
  services: {}
scripts/start_services.sh: |
  #!/bin/bash
  # GARBAGE_DOCKER_516_START_MARKER_001
  GARBAGE_DOCKER_516_START_VAR_002="services"
  docker-compose up -d
tests/test_services.py: |
  # GARBAGE_DOCKER_516_TEST_MARKER_003
  GARBAGE_DOCKER_516_TEST_SVC_004 = {"name": "api"}
  def test_service_health():
      pass
docs/services.md: |
  # Services
  GARBAGE_DOCKER_516_SVC_DOC_005
  GARBAGE_DOCKER_516_TOPOLOGY_006="api,worker,db"
k8s/service.yaml: |
  # GARBAGE_DOCKER_516_K8S_MARKER_007
  apiVersion: v1
  GARBAGE_DOCKER_516_K8S_SVC_008: ClusterIP
