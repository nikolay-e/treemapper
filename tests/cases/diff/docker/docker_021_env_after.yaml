src/config.ts: "export const config = {\n    nodeEnv: process.env.NODE_ENV || 'development',\n    port: parseInt(process.env.PORT || '3000'),\n    dbUrl: process.env.DATABASE_URL,\n    redisUrl: process.env.REDIS_URL,\n\
  \    logLevel: process.env.LOG_LEVEL || 'info'\n};\n"
src/index.ts: 'import { config } from ''./config'';

  console.log(`Running in ${config.nodeEnv} mode on port ${config.port}`);

  '
package.json: "{\n  \"name\": \"api-service\",\n  \"version\": \"1.0.0\",\n  \"main\": \"dist/index.js\",\n  \"scripts\": {\n    \"build\": \"tsc\",\n    \"start\": \"node dist/index.js\"\n  }\n}\n"
Dockerfile: "FROM node:20-alpine AS base\n\n# Build-time arguments for metadata\nARG BUILD_DATE\nARG GIT_SHA\nARG VERSION=0.0.0\n\n# Python optimization environment variables\nENV NODE_ENV=production \\\
  \n    NPM_CONFIG_LOGLEVEL=warn \\\n    NPM_CONFIG_FUND=false \\\n    NPM_CONFIG_AUDIT=false\n\n# Runtime configuration with secure defaults\nENV PORT=3000 \\\n    LOG_LEVEL=info \\\n    LOG_FORMAT=json\
  \ \\\n    REQUEST_TIMEOUT=30000 \\\n    MAX_CONNECTIONS=100 \\\n    GRACEFUL_SHUTDOWN_TIMEOUT=10000\n\n# Container metadata labels\nLABEL org.opencontainers.image.created=\"${BUILD_DATE}\" \\\n      org.opencontainers.image.revision=\"\
  ${GIT_SHA}\" \\\n      org.opencontainers.image.version=\"${VERSION}\" \\\n      org.opencontainers.image.title=\"api-service\"\n\nFROM base AS builder\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci\
  \ --only=production && cp -R node_modules /prod_modules && npm ci\nCOPY . .\nRUN npm run build\n\nFROM base AS production\nWORKDIR /app\nRUN addgroup -g 1001 -S nodejs && adduser -S nodejs -u 1001\nCOPY\
  \ --from=builder --chown=nodejs:nodejs /prod_modules ./node_modules\nCOPY --from=builder --chown=nodejs:nodejs /app/dist ./dist\nUSER nodejs\nEXPOSE ${PORT}\n\nHEALTHCHECK --interval=30s --timeout=5s\
  \ --start-period=10s \\\n    CMD node -e \"require('http').get('http://localhost:'+process.env.PORT+'/health', r => process.exit(r.statusCode === 200 ? 0 : 1))\"\n\nCMD [\"node\", \"dist/index.js\"]\n"
scripts/local_dev.sh: '#!/bin/bash

  export NODE_ENV=development

  npm run dev

  '
tests/config.test.ts: "describe('Config', () => {\n    it('should load env vars', () => {});\n});\n"
docs/environment.md: '# Environment Variables

  '
terraform/variables.tf: 'variable "environment" { default = "production" }

  '
.env.example: ''
