name: docker_529_dockerignore
initial:
  src/app.py: |
    from flask import Flask, jsonify
    import os

    app = Flask(__name__)

    @app.route('/health')
    def health():
        return jsonify(status='ok')

    @app.route('/version')
    def version():
        return jsonify(version=os.getenv('APP_VERSION', 'unknown'))

    if __name__ == '__main__':
        app.run(host='0.0.0.0', port=8080)
  src/config.py: |
    import os

    class Config:
        DEBUG = os.getenv('DEBUG', 'false').lower() == 'true'
        LOG_LEVEL = os.getenv('LOG_LEVEL', 'INFO')
        SECRET_KEY = os.getenv('SECRET_KEY', 'dev-secret')
  requirements.txt: |
    flask==2.3.0
    gunicorn==21.2.0
  Dockerfile: |
    FROM python:3.12-slim
    WORKDIR /app
    COPY requirements.txt .
    RUN pip install -r requirements.txt
    COPY src/ ./src/
    CMD ["gunicorn", "-b", "0.0.0.0:8080", "src.app:app"]
  .dockerignore: |
    *.log
  scripts/build_image.sh: |
    #!/bin/bash
    # GARBAGE_DOCKER_529_BUILD_MARKER_z1x2c3
    GARBAGE_DOCKER_529_IMAGE_TAG_v4b5n6="latest"
    docker build -t app:latest .
  tests/test_app.py: |
    # GARBAGE_DOCKER_529_TEST_MARKER_m7k8j9
    GARBAGE_DOCKER_529_TEST_ENV_h0g1f2 = "test"
    def test_health():
        pass
  docs/docker.md: |
    # Docker Configuration
    GARBAGE_DOCKER_529_DOC_MARKER_d3s4a5
    GARBAGE_DOCKER_529_IGNORE_LIST_q6w7e8="node_modules,.git,.env"
  .github/workflows/docker.yml: |
    # GARBAGE_DOCKER_529_GH_MARKER_r9t0y1
    name: Docker
    GARBAGE_DOCKER_529_WORKFLOW_u2i3o4: push
  makefile.ignore: |
    # GARBAGE_DOCKER_529_MAKE_MARKER_p5a6s7
    GARBAGE_DOCKER_529_TARGET_d8f9g0: build
changed:
  .dockerignore: |
    # Version control
    .git
    .gitignore
    .gitattributes

    # Dependencies
    node_modules
    venv
    .venv
    __pycache__
    *.pyc
    *.pyo
    *.pyd
    .Python
    pip-log.txt
    pip-delete-this-directory.txt

    # IDE and editors
    .idea
    .vscode
    *.swp
    *.swo
    *~
    .project
    .settings

    # Testing and coverage
    .pytest_cache
    .coverage
    htmlcov
    .tox
    .nox
    coverage.xml
    *.cover
    .hypothesis

    # Build artifacts
    dist
    build
    *.egg-info
    .eggs

    # Environment and secrets
    .env
    .env.*
    *.env
    .envrc
    secrets/
    credentials/

    # Logs and temp files
    *.log
    logs/
    tmp/
    temp/

    # Documentation
    docs/
    *.md
    !README.md

    # CI/CD
    .github
    .gitlab-ci.yml
    .travis.yml
    Jenkinsfile
    azure-pipelines.yml

    # Docker
    Dockerfile*
    docker-compose*.yml
    .dockerignore

    # Kubernetes
    k8s/
    helm/
    charts/

    # Terraform
    terraform/
    *.tfstate
    *.tfstate.*
    .terraform/

    # Test fixtures
    tests/
    test/
    *_test.py
    test_*.py
assertions:
  must_include:
    - node_modules
  must_not_include:
    - GARBAGE_DOCKER_529_BUILD_MARKER_z1x2c3
    - GARBAGE_DOCKER_529_IMAGE_TAG_v4b5n6
    - GARBAGE_DOCKER_529_TEST_MARKER_m7k8j9
    - GARBAGE_DOCKER_529_TEST_ENV_h0g1f2
    - GARBAGE_DOCKER_529_DOC_MARKER_d3s4a5
    - GARBAGE_DOCKER_529_IGNORE_LIST_q6w7e8
    - GARBAGE_DOCKER_529_GH_MARKER_r9t0y1
    - GARBAGE_DOCKER_529_WORKFLOW_u2i3o4
    - GARBAGE_DOCKER_529_MAKE_MARKER_p5a6s7
    - GARBAGE_DOCKER_529_TARGET_d8f9g0
options:
  commit_message: Add comprehensive dockerignore with all common exclusions
