api/src/app.py: "from flask import Flask, jsonify\nfrom prometheus_client import make_wsgi_app, Counter\nfrom werkzeug.middleware.dispatcher import DispatcherMiddleware\n\nREQUEST_COUNT = Counter('http_requests_total',\
  \ 'Total HTTP requests')\n\napp = Flask(__name__)\n\n@app.route('/health')\ndef health():\n    REQUEST_COUNT.inc()\n    return jsonify(status='ok')\n\n@app.route('/api/v1/data')\ndef get_data():\n   \
  \ REQUEST_COUNT.inc()\n    return jsonify(data=[1, 2, 3])\n\napp.wsgi_app = DispatcherMiddleware(app.wsgi_app, {\n    '/metrics': make_wsgi_app()\n})\n"
api/Dockerfile: 'FROM python:3.12-slim

  WORKDIR /app

  COPY requirements.txt .

  RUN pip install -r requirements.txt

  COPY src/ ./src/

  CMD ["gunicorn", "-b", "0.0.0.0:8080", "src.app:app"]

  '
api/requirements.txt: 'flask==2.3.0

  gunicorn==21.2.0

  prometheus-client==0.19.0

  '
docker-compose.yml: "version: '3.8'\n\nservices:\n  api:\n    build: ./api\n    ports:\n      # Host:Container format with explicit protocol\n      - \"8080:8080/tcp\"\n      # Metrics port - only accessible\
  \ from localhost\n      - \"127.0.0.1:9090:9090/tcp\"\n      # Debug port - only in development\n      - \"127.0.0.1:5678:5678/tcp\"\n      # UDP port for specific use cases\n      - \"8125:8125/udp\"\
  \n      # Range of ports\n      - \"3000-3005:3000-3005/tcp\"\n    expose:\n      # Internal ports (not published to host)\n      - \"8081\"\n      - \"8082\"\n    healthcheck:\n      test: [\"CMD\",\
  \ \"curl\", \"-f\", \"http://localhost:8080/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  prometheus:\n    image: prom/prometheus:v2.48.0\n    ports:\n      - \"127.0.0.1:9091:9090/tcp\"\
  \n    volumes:\n      - ./prometheus.yml:/etc/prometheus/prometheus.yml:ro\n\n  grafana:\n    image: grafana/grafana:10.2.2\n    ports:\n      - \"127.0.0.1:3000:3000/tcp\"\n    environment:\n      -\
  \ GF_SECURITY_ADMIN_PASSWORD=admin\n"
scripts/port_forward.sh: '#!/bin/bash

  kubectl port-forward svc/api 8080:8080

  '
tests/test_ports.py: "def test_port_binding():\n    pass\n"
docs/ports.md: '# Port Configuration

  '
firewall/rules.yaml: ''
nginx/upstream.conf: ''
