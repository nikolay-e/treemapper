src/db.py: "import os\nfrom contextlib import contextmanager\nfrom typing import Generator\n\nDATABASE_URL = os.getenv(\"DATABASE_URL\")\nREDIS_URL = os.getenv(\"REDIS_URL\")\nSECRET_KEY = os.getenv(\"\
  SECRET_KEY\")\n\ndef validate_config() -> bool:\n    required = [DATABASE_URL, SECRET_KEY]\n    return all(v is not None for v in required)\n\n@contextmanager\ndef get_connection() -> Generator:\n   \
  \ if not DATABASE_URL:\n        raise ValueError(\"DATABASE_URL not configured\")\n    # Simulated connection\n    conn = {\"url\": DATABASE_URL, \"connected\": True}\n    try:\n        yield conn\n \
  \   finally:\n        conn[\"connected\"] = False\n\ndef get_redis_client():\n    if not REDIS_URL:\n        return None\n    return {\"url\": REDIS_URL, \"type\": \"redis\"}\n"
src/app.py: "from db import validate_config, get_connection, get_redis_client\n\ndef initialize():\n    if not validate_config():\n        raise RuntimeError(\"Configuration validation failed\")\n    redis\
  \ = get_redis_client()\n    return {\"redis\": redis is not None}\n"
requirements.txt: 'psycopg2-binary==2.9.9

  redis==5.0.0

  python-dotenv==1.0.0

  '
Dockerfile: 'FROM python:3.12-slim

  WORKDIR /app

  COPY requirements.txt .

  RUN pip install -r requirements.txt

  COPY src/ ./src/

  CMD ["python", "-c", "from src.app import initialize; initialize()"]

  '
docker-compose.yml: "version: '3.8'\n\nservices:\n  api:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    environment:\n      # Database configuration\n      - DATABASE_URL=postgres://db:5432/prod\n\
  \      - DATABASE_POOL_SIZE=10\n      - DATABASE_MAX_OVERFLOW=20\n\n      # Redis configuration\n      - REDIS_URL=redis://redis:6379/0\n      - REDIS_MAX_CONNECTIONS=50\n\n      # Application secrets\
  \ (interpolated from .env or shell)\n      - SECRET_KEY=${SECRET_KEY:?SECRET_KEY is required}\n      - JWT_SECRET=${JWT_SECRET:-default-jwt-secret}\n\n      # Feature flags\n      - FEATURE_NEW_UI=${FEATURE_NEW_UI:-false}\n\
  \      - FEATURE_BETA_API=true\n\n      # Logging and monitoring\n      - LOG_LEVEL=${LOG_LEVEL:-info}\n      - SENTRY_DSN=${SENTRY_DSN:-}\n\n    env_file:\n      - .env\n      - .env.${APP_ENV:-development}\n\
  \n    depends_on:\n      db:\n        condition: service_healthy\n      redis:\n        condition: service_started\n\n  db:\n    image: postgres:16-alpine\n    environment:\n      POSTGRES_USER: ${POSTGRES_USER:-app}\n\
  \      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD:?POSTGRES_PASSWORD required}\n      POSTGRES_DB: ${POSTGRES_DB:-prod}\n      PGDATA: /var/lib/postgresql/data/pgdata\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\
  \    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U ${POSTGRES_USER:-app}\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\n  redis:\n    image: redis:7-alpine\n    command: redis-server\
  \ --maxmemory 256mb --maxmemory-policy allkeys-lru\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n"
scripts/unrelated_script.sh: '#!/bin/bash

  # GARBAGE_DOCKER_076_SCRIPT_MARKER_c1v2b3

  GARBAGE_DOCKER_076_UNRELATED_VAR_n4m5q6="nothing"

  echo "This script has no connection to anything"

  '
tests/test_db.py: "def test_connection():\n    pass\n"
docs/environment.md: '# Environment Variables

  '
secrets/template.env: ''
terraform/ssm.tf: 'resource "aws_ssm_parameter" "db_url" {

  }

  '
