name: docker_524_compose_secrets
initial:
  db_password.txt: supersecret123
  docker-compose.yml: |
    version: '3.8'
    services:
      api:
        build: .
  unrelated.md: |
    # garbage_marker_12345
    unused_marker_67890
changed:
  docker-compose.yml: |
    version: '3.8'
    services:
      api:
        build: .
        secrets:
          - db_password
    secrets:
      db_password:
        file: ./db_password.txt
assertions:
  must_include:
  - 'secrets:'
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add secrets
