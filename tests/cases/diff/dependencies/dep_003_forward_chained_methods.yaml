name: dep_003_forward_chained_methods
initial:
  database/query.py: |
    class QueryBuilder:
        def __init__(self, table):
            self.table = table
            self.filters = []
            self.limit_val = None

        def query(self, table):
            return QueryBuilder(table)

        def filter(self, **kwargs):
            self.filters.append(kwargs)
            return self

        def limit(self, n):
            self.limit_val = n
            return self
  query.py: |
    def run_query():
        pass
changed:
  query.py: |
    from database.query import QueryBuilder

    def run_query():
        db = QueryBuilder("users")
        result = db.query("users").filter(active=True).limit(10)
        return result
assertions:
  must_include:
  - query.py
  must_not_include:
  - garbage_marker_12345
