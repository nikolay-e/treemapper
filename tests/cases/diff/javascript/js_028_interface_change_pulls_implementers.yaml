name: js_028_interface_change_pulls_implementers
initial:
  interfaces.ts: |
    export interface Repository<T> {
        findById(id: string): Promise<T | null>;
        save(entity: T): Promise<T>;
    }
  user_repo.ts: |
    import { Repository } from './interfaces';

    interface User { id: string; name: string; }

    export class UserRepository implements Repository<User> {
        async findById(id: string) {
            return { id, name: 'Test' };
        }
        async save(entity: User) {
            return entity;
        }
    }
changed:
  interfaces.ts: |
    export interface Repository<T> {
        findById(id: string): Promise<T | null>;
        findAll(): Promise<T[]>;
        save(entity: T): Promise<T>;
        delete(id: string): Promise<boolean>;
    }
assertions:
  must_include:
  - Repository
  - interfaces.ts
  must_not_include:
  - js_garbage_marker_001
options:
  commit_message: Add methods to Repository interface
