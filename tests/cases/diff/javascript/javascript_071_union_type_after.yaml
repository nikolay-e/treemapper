result.ts: |
  export type Success<T> = { success: true; data: T };
  export type Failure = { success: false; error: string };
handler.ts: |
  import { Success, Failure } from './result';

  type Result<T> = Success<T> | Failure;

  function handleResult<T>(result: Result<T>) {
      if (result.success) {
          return result.data;
      }
      throw new Error(result.error);
  }
