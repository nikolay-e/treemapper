name: js_040_module_augmentation
initial:
  original.ts: |
    export interface User {
        id: string;
        name: string;
    }

    export function createUser(name: string): User {
        return { id: Date.now().toString(), name };
    }
  augmentation.ts: |
    import { User } from './original';

    declare module './original' {
        interface User {
            email?: string;
        }
    }

    export function createUserWithEmail(name: string, email: string): User {
        return { id: Date.now().toString(), name, email };
    }
changed:
  augmentation.ts: |
    import { User } from './original';

    declare module './original' {
        interface User {
            email?: string;
            role?: 'admin' | 'user';
        }
    }

    export function createUserWithEmail(name: string, email: string, role?: 'admin' | 'user'): User {
        return { id: Date.now().toString(), name, email, role };
    }
assertions:
  must_include:
  - createUserWithEmail
  - augmentation.ts
  must_not_include:
  - js_garbage_marker_001
options:
  commit_message: Add role to augmentation
