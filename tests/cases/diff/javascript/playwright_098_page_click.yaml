name: playwright_098_page_click
initial:
  login.ts: |
    export function getLoginUrl(): string {
        return '/login';
    }

    export function getCredentials() {
        return { username: 'test', password: 'test123' };  // pragma: allowlist secret
    }
  login.spec.ts: |
    console.log('initial');
changed:
  login.spec.ts: |
    import { test, expect } from '@playwright/test';
    import { getLoginUrl, getCredentials } from './login';

    test('user can log in', async ({ page }) => {
        await page.goto(getLoginUrl());
        const { username, password } = getCredentials();
        await page.fill('[name=username]', username);
        await page.fill('[name=password]', password);
        await page.click('button[type=submit]');
        await expect(page).toHaveURL('/dashboard');
    });
assertions:
  must_include:
  - getLoginUrl
  - login.spec.ts
  must_not_include:
  - js_garbage_marker_001
options:
  commit_message: Add login e2e test
