emitter.ts: |
  import { EventEmitter } from 'events';

  export const appEmitter = new EventEmitter();

  export function emitUserCreated(user: { id: string; name: string }) {
      appEmitter.emit('userCreated', user);
  }

  export function emitUserDeleted(userId: string) {
      appEmitter.emit('userDeleted', userId);
  }

  export function emitUserUpdated(user: { id: string; name: string }) {
      appEmitter.emit('userUpdated', user);
  }
listener.ts: |
  import { appEmitter } from './emitter';

  appEmitter.on('userCreated', (user) => {
      console.log('User created:', user);
  });
