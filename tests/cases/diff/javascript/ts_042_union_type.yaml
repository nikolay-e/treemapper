name: ts_042_union_type
initial:
  result.ts: |
    export type Success<T> = { success: true; data: T };
    export type Failure = { success: false; error: string };
  handler.ts: |
    console.log('initial');
changed:
  handler.ts: |
    import { Success, Failure } from './result';

    type Result<T> = Success<T> | Failure;

    function handleResult<T>(result: Result<T>) {
        if (result.success) {
            return result.data;
        }
        throw new Error(result.error);
    }
assertions:
  must_include:
  - Success
  - Failure
  - handler.ts
  must_not_include:
  - js_garbage_marker_001
options:
  commit_message: Add union type
