name: angular_080_observable_pipe
initial:
  transformers.ts: |
    export function filterActive<T extends { active: boolean }>(items: T[]): T[] {
        return items.filter(item => item.active);
    }
  list.component.ts: |
    console.log('initial');
changed:
  list.component.ts: |
    import { Component } from '@angular/core';
    import { Observable, of } from 'rxjs';
    import { map } from 'rxjs/operators';
    import { filterActive } from './transformers';

    interface Item {
        id: string;
        name: string;
        active: boolean;
    }

    @Component({
        selector: 'app-list',
        template: `<div *ngFor="let item of items$ | async">{{ item.name }}</div>`
    })
    export class ListComponent {
        items$: Observable<Item[]> = of([
            { id: '1', name: 'Item 1', active: true },
            { id: '2', name: 'Item 2', active: false },
        ]).pipe(map(filterActive));
    }
assertions:
  must_include:
  - filterActive
  - list.component.ts
  must_not_include:
  - js_garbage_marker_001
options:
  commit_message: Add Observable pipe
