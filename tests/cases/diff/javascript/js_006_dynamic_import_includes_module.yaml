name: js_006_dynamic_import_includes_module
initial:
  lazy.ts: |
    export function heavyComputation(): number {
        let result = 0;
        for (let i = 0; i < 1000000; i++) {
            result += i;
        }
        return result;
    }
  main.ts: |
    console.log('initial');
changed:
  main.ts: |
    async function loadModule() {
        const lazy = await import('./lazy');
        const result = lazy.heavyComputation();
        console.log(result);
    }

    loadModule();
assertions:
  must_include:
  - import('./lazy')
  - main.ts
  must_not_include:
  - js_garbage_marker_001
options:
  commit_message: Add dynamic import
