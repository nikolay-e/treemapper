name: js_012_decorator_function
initial:
  decorators.ts: |
    export function Logger(target: any, key: string, descriptor: PropertyDescriptor) {
        const original = descriptor.value;
        descriptor.value = function(...args: any[]) {
            console.log(`Calling ${key} with args:`, args);
            return original.apply(this, args);
        };
        return descriptor;
    }

    export function Readonly(target: any, key: string) {
        Object.defineProperty(target, key, { writable: false });
    }
  service.ts: |
    console.log('initial');
changed:
  service.ts: |
    import { Logger } from './decorators';

    export class ApiService {
        @Logger
        fetchData(url: string): Promise<any> {
            return fetch(url).then(res => res.json());
        }
    }
assertions:
  must_include:
  - Logger
  - ApiService
  - service.ts
  must_not_include:
  - js_garbage_marker_001
options:
  commit_message: Add decorated method
