name: bash_005_extglob
initial:
  patterns.sh: |
    #!/bin/bash
    echo "Patterns"
  garbage.sh: |
    #!/bin/bash
    SHELLTEST_PATTERN_026="unused_pattern_12345"
    shelltest_unused_abc002="not_used"
changed:
  patterns.sh: |
    #!/bin/bash
    shopt -s extglob

    rm -f !(*.txt|*.log)

    for f in *.@(jpg|png|gif); do
        echo "Image: $f"
    done

    case "$file" in
        *.+(tar|gz|bz2))
            echo "Archive file"
            ;;
        !(*.*)
            echo "No extension"
            ;;
    esac
assertions:
  must_include:
  - patterns.sh
  - extglob
  must_not_include:
  - SHELLTEST_PATTERN_026
  - shelltest_unused_abc002
