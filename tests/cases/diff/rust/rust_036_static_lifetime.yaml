name: rust_036_static_lifetime
initial:
  src/constants.rs: |
    pub const APP_NAME: &str = "MyApp";
    pub const VERSION: &str = "1.0.0";
changed:
  src/constants.rs: |
    pub const APP_NAME: &'static str = "MyApp";
    pub const VERSION: &'static str = "1.0.0";

    pub static GLOBAL_CONFIG: &'static str = "default";

    lazy_static::lazy_static! {
        pub static ref RUNTIME_CONFIG: String = {
            std::env::var("CONFIG").unwrap_or_else(|_| "production".to_string())
        };
    }
  src/messages.rs: |
    use crate::constants::{APP_NAME, VERSION};

    pub fn get_greeting() -> &'static str {
        "Welcome to the application"
    }

    pub fn format_version() -> String {
        format!("{} v{}", APP_NAME, VERSION)
    }
assertions:
  must_include:
  - GLOBAL_CONFIG
  - lazy_static
  - get_greeting
  must_not_include:
  - garbage_static_const
options:
  commit_message: Add static lifetime annotations
