name: rust_034_copy_trait
initial:
  src/point.rs: |
    #[derive(Debug)]
    pub struct Point {
        x: f64,
        y: f64,
    }

    impl Point {
        pub fn new(x: f64, y: f64) -> Self {
            Self { x, y }
        }

        pub fn distance(&self, other: &Point) -> f64 {
            ((self.x - other.x).powi(2) + (self.y - other.y).powi(2)).sqrt()
        }
    }
changed:
  src/point.rs: |
    #[derive(Debug, Clone, Copy)]
    pub struct Point {
        x: f64,
        y: f64,
    }

    impl Point {
        pub fn new(x: f64, y: f64) -> Self {
            Self { x, y }
        }

        pub fn distance(self, other: Point) -> f64 {
            ((self.x - other.x).powi(2) + (self.y - other.y).powi(2)).sqrt()
        }

        pub fn midpoint(self, other: Point) -> Point {
            Point::new((self.x + other.x) / 2.0, (self.y + other.y) / 2.0)
        }
    }
  src/geometry.rs: |
    use crate::point::Point;

    pub fn calculate_area(p1: Point, p2: Point, p3: Point) -> f64 {
        let a = p1.distance(p2);
        let b = p2.distance(p3);
        let c = p3.distance(p1);
        let s = (a + b + c) / 2.0;
        (s * (s - a) * (s - b) * (s - c)).sqrt()
    }
assertions:
  must_include:
  - Copy
  - midpoint
  - calculate_area
  must_not_include:
  - garbage_geometry_fn
options:
  commit_message: Add Copy trait and geometry functions
