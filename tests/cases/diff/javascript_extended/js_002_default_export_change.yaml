name: js_002_default_export_change
initial:
  api.ts: |
    export default function apiClient() {
        return { get: (url: string) => fetch(url) };
    }

    // js_garbage_marker_002
    const UNUSED_CONFIG = { timeout: 5000 };
  service.ts: |
    import client from './api';

    export function getData(url: string) {
        return client().get(url);
    }
changed:
  api.ts: |
    export default function apiClient(baseUrl = '') {
        return {
            get: (url: string) => fetch(baseUrl + url),
            post: (url: string, data: any) => fetch(baseUrl + url, {
                method: 'POST',
                body: JSON.stringify(data),
            }),
        };
    }

    // js_garbage_marker_002
    const UNUSED_CONFIG = { timeout: 5000 };
assertions:
  must_include:
  - api.ts
  must_not_include:
  - js_garbage_marker_002
options:
  commit_message: Extend apiClient
