name: ts_ext_004_indexed_access_type
initial:
  schema.ts: |
    export interface Schema {
        users: { id: string; name: string }[];
        posts: { id: string; title: string; content: string }[];
    }

    // ts_ext_garbage_marker_004
    interface GarbageSchema { garbage: unknown[] }
  accessor.ts: |
    console.log('initial');
changed:
  accessor.ts: |
    import { Schema } from './schema';

    type User = Schema['users'][number];
    type Post = Schema['posts'][number];

    function getFirstUser(schema: Schema): User {
        return schema.users[0];
    }
assertions:
  must_include:
  - accessor.ts
  must_not_include:
  - ts_ext_garbage_marker_004
options:
  commit_message: Add indexed access
