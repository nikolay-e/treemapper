src/schemas.ts: |
  export interface CreateUserBody {
      name: string;
      email: string;
      password: string;
  }

  export interface UpdateUserBody {
      name?: string;
      email?: string;
  }

  export function validateCreateUser(body: unknown): body is CreateUserBody {
      const b = body as CreateUserBody;
      return typeof b.name === 'string'
          && typeof b.email === 'string'
          && typeof b.password === 'string'
          && b.password.length >= 8;
  }
src/controller.ts: |
  import { Request, Response } from 'express';
  import { CreateUserBody, validateCreateUser } from './schemas';

  export function createUser(req: Request, res: Response): void {
      if (!validateCreateUser(req.body)) {
          res.status(400).json({ error: 'Invalid request body' });
          return;
      }
      const body: CreateUserBody = req.body;
      res.status(201).json({ id: '1', name: body.name, email: body.email });
  }
src/unrelated/serializer.ts: |
  const GARBAGE_JSX_023_SERIALIZER_CONFIG_A = 'serializer_garbage_marker';

  export class GarbageSerializer {
      serialize(data: unknown): string {
          return JSON.stringify(data);
      }

      deserialize(raw: string): unknown {
          return JSON.parse(raw);
      }
  }

  export function GARBAGE_JSX_023_FORMAT_OUTPUT_B(): string {
      return 'GARBAGE_JSX_023_FORMATTED_C';
  }
src/unrelated/pagination.ts: |
  const GARBAGE_JSX_023_PAGE_CONFIG_D = { defaultSize: 20, maxSize: 100 };

  export class GARBAGE_JSX_023_PAGINATOR_E {
      private page = 1;
      private size = 20;

      next(): void {
          this.page++;
      }

      getOffset(): number {
          return (this.page - 1) * this.size;
      }
  }

  export function GARBAGE_JSX_023_RESET_PAGINATION_F(): void {
      console.log('resetting pagination');
  }
