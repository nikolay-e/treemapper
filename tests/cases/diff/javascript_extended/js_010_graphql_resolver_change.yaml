name: js_010_graphql_resolver_change
initial:
  resolvers.ts: |
    export const resolvers = {
        Query: {
            user: (_: any, { id }: { id: string }) => ({ id, name: 'Test' }),
        },
    };

    // js_garbage_marker_010
    const GARBAGE_RESOLVER = { garbage: () => null };
  schema.ts: |
    import { resolvers } from './resolvers';

    export const typeDefs = `
        type User {
            id: ID!
            name: String!
        }

        type Query {
            user(id: ID!): User
        }
    `;

    export { resolvers };
changed:
  resolvers.ts: |
    export const resolvers = {
        Query: {
            user: (_: any, { id }: { id: string }) => ({ id, name: 'Test' }),
            users: () => [{ id: '1', name: 'User 1' }, { id: '2', name: 'User 2' }],
        },
        Mutation: {
            createUser: (_: any, { name }: { name: string }) => ({ id: Date.now().toString(), name }),
        },
    };

    // js_garbage_marker_010
    const GARBAGE_RESOLVER = { garbage: () => null };
assertions:
  must_include:
  - resolvers.ts
  must_not_include:
  - js_garbage_marker_010
options:
  commit_message: Add users query and createUser mutation
