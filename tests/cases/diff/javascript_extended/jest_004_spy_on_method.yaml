name: jest_004_spy_on_method
initial:
  logger.ts: |
    export const logger = {
        log: (message: string) => console.log(message),
        error: (message: string) => console.error(message),
    };

    // jest_garbage_marker_004
    const garbageLogger = { garbage: () => null };
  app.ts: |
    import { logger } from './logger';

    export function processData(data: string) {
        logger.log(`Processing: ${data}`);
        return data.toUpperCase();
    }
  app.test.ts: |
    console.log('initial');
changed:
  app.test.ts: |
    import { processData } from './app';
    import { logger } from './logger';

    describe('App', () => {
        it('should log when processing', () => {
            const spy = jest.spyOn(logger, 'log');
            processData('test');
            expect(spy).toHaveBeenCalledWith('Processing: test');
            spy.mockRestore();
        });
    });
assertions:
  must_include:
  - app.test.ts
  must_not_include:
  - jest_garbage_marker_004
options:
  commit_message: Add app tests with spy
