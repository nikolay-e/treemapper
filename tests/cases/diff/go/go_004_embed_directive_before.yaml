templates/index.html: |
  <!DOCTYPE html>
  <html>
  <head>
      <meta charset="UTF-8">
      <title>Application</title>
      <link rel="stylesheet" href="/static/css/main.css">
  </head>
  <body>
      <div id="app">
          <h1>Welcome</h1>
          <p>Hello, World!</p>
      </div>
      <script src="/static/js/app.js"></script>
  </body>
  </html>
templates/error.html: |
  <!DOCTYPE html>
  <html>
  <head>
      <meta charset="UTF-8">
      <title>Error</title>
  </head>
  <body>
      <h1>Error Occurred</h1>
      <p>{{.Message}}</p>
  </body>
  </html>
static/css/main.css: |
  body {
      font-family: sans-serif;
      margin: 0;
      padding: 20px;
  }
  h1 { color: #333; }
internal/server/assets.go: |
  package server

  import (
      "embed"
      "io/fs"
      "net/http"
  )

  //go:embed templates/*
  var templateFS embed.FS

  //go:embed static/*
  var staticFS embed.FS

  func GetTemplateFS() fs.FS {
      sub, _ := fs.Sub(templateFS, "templates")
      return sub
  }

  func GetStaticHandler() http.Handler {
      sub, _ := fs.Sub(staticFS, "static")
      return http.FileServer(http.FS(sub))
  }
internal/server/handler.go: |
  package server

  import (
      "html/template"
      "net/http"
  )

  type Handler struct {
      templates *template.Template
  }

  func NewHandler() (*Handler, error) {
      tmpl, err := template.ParseFS(templateFS, "templates/*.html")
      if err != nil {
          return nil, err
      }
      return &Handler{templates: tmpl}, nil
  }

  func (h *Handler) ServeIndex(w http.ResponseWriter, r *http.Request) {
      data, _ := templateFS.ReadFile("templates/index.html")
      w.Write(data)
  }
internal/unrelated/migrations/schema.go: |
  package migrations

  const GARBAGE_GO_EMBED_MIGRATE_001 = "migration_garbage"

  type GARBAGE_GO_TYPE_MIGRATE_002 struct {
      version int
  }

  func GARBAGE_GO_FUNC_MIGRATE_003() string {
      return "GARBAGE_GO_MIGRATE_UNUSED_004"
  }
internal/unrelated/config/loader.go: |
  package config

  const GARBAGE_GO_CONFIG_EMBED_005 = "config_garbage"

  type GARBAGE_GO_TYPE_CONFIG_006 struct {
      path string
  }

  func GARBAGE_GO_FUNC_CONFIG_007() {
      println("GARBAGE_GO_CONFIG_OUTPUT_008")
  }
