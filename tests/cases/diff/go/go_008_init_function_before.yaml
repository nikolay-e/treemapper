internal/config/config.go: |
  package config

  import (
      "os"
      "strconv"
      "time"
  )

  var Config *AppConfig

  type AppConfig struct {
      Environment string
      Debug       bool
      Port        int
      Timeout     time.Duration
  }

  func init() {
      Config = &AppConfig{
          Environment: getEnv("APP_ENV", "development"),
          Debug:       getEnvBool("APP_DEBUG", false),
          Port:        getEnvInt("APP_PORT", 8080),
          Timeout:     getEnvDuration("APP_TIMEOUT", 30*time.Second),
      }
  }

  func getEnv(key, defaultVal string) string {
      if val := os.Getenv(key); val != "" {
          return val
      }
      return defaultVal
  }

  func getEnvBool(key string, defaultVal bool) bool {
      if val := os.Getenv(key); val != "" {
          b, _ := strconv.ParseBool(val)
          return b
      }
      return defaultVal
  }

  func getEnvInt(key string, defaultVal int) int {
      if val := os.Getenv(key); val != "" {
          i, _ := strconv.Atoi(val)
          return i
      }
      return defaultVal
  }

  func getEnvDuration(key string, defaultVal time.Duration) time.Duration {
      if val := os.Getenv(key); val != "" {
          d, _ := time.ParseDuration(val)
          return d
      }
      return defaultVal
  }
cmd/main.go: |
  package main

  import (
      "fmt"
      "myproject/internal/config"
  )

  func main() {
      fmt.Printf("Starting in %s mode on port %d\n",
          config.Config.Environment,
          config.Config.Port)
  }
internal/unrelated/bootstrap/initializer.go: |
  package bootstrap

  const GARBAGE_GO_BOOTSTRAP_INIT_001 = "bootstrap_garbage"

  type GARBAGE_GO_TYPE_BOOTSTRAP_002 struct {
      order int
  }

  func GARBAGE_GO_FUNC_BOOTSTRAP_003() string {
      return "GARBAGE_GO_BOOTSTRAP_UNUSED_004"
  }
internal/unrelated/setup/database.go: |
  package setup

  const GARBAGE_GO_SETUP_DATABASE_005 = "setup_garbage"

  type GARBAGE_GO_TYPE_SETUP_006 struct {
      dsn string
  }

  func GARBAGE_GO_FUNC_SETUP_007() {
      println("GARBAGE_GO_SETUP_OUTPUT_008")
  }
