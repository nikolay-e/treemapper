chart/Chart.yaml: 'apiVersion: v2

  name: worker-app

  description: Background worker application

  type: application

  version: 2.0.0

  appVersion: "2.0.0"

  '
chart/values.yaml: "replicaCount: 2\nimage:\n  repository: worker-app\n  tag: \"2.0.0\"\nenv:\n  - name: APP_ENV\n    value: development\nresources:\n  limits:\n    cpu: 500m\n    memory: 512Mi\n"
chart/templates/_helpers.tpl: '{{- define "worker-app.fullname" -}}

  {{- printf "%s-%s" .Release.Name .Chart.Name | trunc 63 | trimSuffix "-" }}

  {{- end }}


  {{- define "worker-app.labels" -}}

  app.kubernetes.io/name: {{ .Chart.Name }}

  app.kubernetes.io/instance: {{ .Release.Name }}

  {{- end }}

  '
chart/templates/deployment.yaml: "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: {{ include \"worker-app.fullname\" . }}\n  labels:\n    {{- include \"worker-app.labels\" . | nindent 4 }}\nspec:\n\
  \  replicas: {{ .Values.replicaCount }}\n  selector:\n    matchLabels:\n      {{- include \"worker-app.labels\" . | nindent 6 }}\n  template:\n    metadata:\n      labels:\n        {{- include \"worker-app.labels\"\
  \ . | nindent 8 }}\n    spec:\n      containers:\n        - name: {{ .Chart.Name }}\n          image: \"{{ .Values.image.repository }}:{{ .Values.image.tag }}\"\n          env:\n            {{- toYaml\
  \ .Values.env | nindent 14 }}\n          resources:\n            {{- toYaml .Values.resources | nindent 14 }}\n"
chart/templates/istio-virtualservice.yaml: "apiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\nspec:\n  hosts:\n  http:\n    - route:\n        - destination:\n"
chart/scripts/migrate.sh: '#!/bin/bash

  echo "Running migrations..."

  '
