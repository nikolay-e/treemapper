name: helm_059_values_to_configmap
initial:
  chart/values.yaml: |
    config:
      logLevel: info
      debugMode: false
  chart/templates/configmap.yaml: |
    apiVersion: v1
    kind: ConfigMap
    metadata:
      name: {{ .Release.Name }}-config
    data:
      LOG_LEVEL: {{ .Values.config.logLevel }}
      DEBUG_MODE: {{ .Values.config.debugMode | quote }}
changed:
  chart/values.yaml: |
    config:
      logLevel: debug
      debugMode: true
      maxConnections: 100
assertions:
  must_include:
    - ConfigMap
options:
  commit_message: enable debug
