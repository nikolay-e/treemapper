name: helm_541_helpers_tpl
initial:
  templates/_helpers.tpl: |
    {{/* Common labels */}}
  unrelated.txt: |
    garbage_marker_12345
    unused_marker_67890
changed:
  templates/_helpers.tpl: |
    {{/*
    Expand the name of the chart.
    */}}
    {{- define "app.name" -}}
    {{- default .Chart.Name .Values.nameOverride | trunc 63 | trimSuffix "-" }}
    {{- end }}

    {{/*
    Create a default fully qualified app name.
    */}}
    {{- define "app.fullname" -}}
    {{- if .Values.fullnameOverride }}
    {{- .Values.fullnameOverride | trunc 63 | trimSuffix "-" }}
    {{- else }}
    {{- $name := default .Chart.Name .Values.nameOverride }}
    {{- printf "%s-%s" .Release.Name $name | trunc 63 | trimSuffix "-" }}
    {{- end }}
    {{- end }}
assertions:
  must_include:
  - define
  - app.name
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add helpers
