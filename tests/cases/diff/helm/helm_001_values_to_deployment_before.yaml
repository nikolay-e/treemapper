chart/Chart.yaml: 'apiVersion: v2

  name: web-api

  description: A web API application

  type: application

  version: 1.2.0

  appVersion: "1.0.0"

  '
chart/values.yaml: "replicaCount: 1\nimage:\n  repository: nginx\n  tag: latest\n  pullPolicy: IfNotPresent\nservice:\n  type: ClusterIP\n  port: 80\nresources:\n  limits:\n    cpu: 200m\n    memory: 256Mi\n\
  \  requests:\n    cpu: 100m\n    memory: 128Mi\n"
chart/templates/_helpers.tpl: '{{- define "web-api.fullname" -}}

  {{- if .Values.fullnameOverride }}

  {{- .Values.fullnameOverride | trunc 63 | trimSuffix "-" }}

  {{- else }}

  {{- $name := default .Chart.Name .Values.nameOverride }}

  {{- printf "%s-%s" .Release.Name $name | trunc 63 | trimSuffix "-" }}

  {{- end }}

  {{- end }}


  {{- define "web-api.labels" -}}

  helm.sh/chart: {{ .Chart.Name }}-{{ .Chart.Version }}

  app.kubernetes.io/name: {{ .Chart.Name }}

  app.kubernetes.io/instance: {{ .Release.Name }}

  app.kubernetes.io/managed-by: {{ .Release.Service }}

  {{- end }}


  {{- define "web-api.selectorLabels" -}}

  app.kubernetes.io/name: {{ .Chart.Name }}

  app.kubernetes.io/instance: {{ .Release.Name }}

  {{- end }}

  '
chart/templates/deployment.yaml: "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: {{ include \"web-api.fullname\" . }}\n  labels:\n    {{- include \"web-api.labels\" . | nindent 4 }}\nspec:\n\
  \  replicas: {{ .Values.replicaCount }}\n  selector:\n    matchLabels:\n      {{- include \"web-api.selectorLabels\" . | nindent 6 }}\n  template:\n    metadata:\n      labels:\n        {{- include \"\
  web-api.selectorLabels\" . | nindent 8 }}\n    spec:\n      containers:\n        - name: {{ .Chart.Name }}\n          image: \"{{ .Values.image.repository }}:{{ .Values.image.tag }}\"\n          imagePullPolicy:\
  \ {{ .Values.image.pullPolicy }}\n          ports:\n            - name: http\n              containerPort: 8080\n              protocol: TCP\n          resources:\n            {{- toYaml .Values.resources\
  \ | nindent 14 }}\n"
chart/templates/service.yaml: "apiVersion: v1\nkind: Service\nmetadata:\n  name: {{ include \"web-api.fullname\" . }}\n  labels:\n    {{- include \"web-api.labels\" . | nindent 4 }}\nspec:\n  type: {{ .Values.service.type\
  \ }}\n  ports:\n    - port: {{ .Values.service.port }}\n      targetPort: http\n      protocol: TCP\n      name: http\n  selector:\n    {{- include \"web-api.selectorLabels\" . | nindent 4 }}\n"
chart/templates/monitoring-dashboard.json: "{\n  \"dashboard\": {\n    \"panels\": [\n    ]\n  }\n}\n"
chart/docs/runbook.md: '# Operations Runbook

  ## Troubleshooting

  Check pod logs using kubectl logs.

  '
