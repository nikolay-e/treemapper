must_include_files:
  - chart/values.yaml
  - chart/templates/serviceaccount.yaml
must_include_content:
  - |
    serviceAccount:
      create: true
      name: app-sa
      annotations:
        eks.amazonaws.com/role-arn: arn:aws:iam::123456789:role/app-role
  - |
    {{- if .Values.serviceAccount.create }}
    apiVersion: v1
    kind: ServiceAccount
must_not_include:
  - GARBAGE_HELM_015_RATELIMIT_CM_A
  - GARBAGE_HELM_015_RATELIMIT_DOMAIN_B
  - GARBAGE_HELM_015_RATELIMIT_DESCRIPTOR_C
  - GARBAGE_HELM_015_IAM_DOC_D
  - GARBAGE_HELM_015_IAM_BOUNDARY_E
  - chart/templates/rate-limit-config.yaml
  - chart/docs/iam-roles.md
