chart/Chart.yaml: |
  apiVersion: v2
  name: auth-service
  version: 2.0.0
chart/values.yaml: |
  replicaCount: 2
  image:
    repository: auth-service
    tag: "2.0.0"
  secrets:
    dbPassword: prod-secret
    apiKey: my-api-key
chart/templates/secret.yaml: |
  apiVersion: v1
  kind: Secret
  metadata:
    name: {{ .Release.Name }}-secrets
    labels:
      app.kubernetes.io/name: {{ .Chart.Name }}
  type: Opaque
  data:
    DB_PASSWORD: {{ .Values.secrets.dbPassword | b64enc }}
chart/templates/deployment.yaml: |
  apiVersion: apps/v1
  kind: Deployment
  metadata:
    name: {{ .Release.Name }}-{{ .Chart.Name }}
  spec:
    replicas: {{ .Values.replicaCount }}
    template:
      spec:
        containers:
          - name: {{ .Chart.Name }}
            image: "{{ .Values.image.repository }}:{{ .Values.image.tag }}"
            env:
              - name: DB_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: {{ .Release.Name }}-secrets
                    key: DB_PASSWORD
chart/templates/prometheus-rules.yaml: |
  apiVersion: monitoring.coreos.com/v1
  kind: PrometheusRule
  metadata:
    name: GARBAGE_HELM_005_PROM_RULE_A
  spec:
    groups:
      - name: GARBAGE_HELM_005_ALERT_GROUP_B
        rules:
          - alert: GARBAGE_HELM_005_ALERT_NAME_C
            expr: up == 0
chart/benchmarks/perf-test.js: |
  // GARBAGE_HELM_005_BENCHMARK_HEADER_D
  const GARBAGE_HELM_005_BENCHMARK_CONFIG_E = { iterations: 1000 };
