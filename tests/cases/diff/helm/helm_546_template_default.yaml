name: helm_546_template_default
initial:
  values.yaml: |
    # timeout not set
  templates/deployment.yaml: |
    apiVersion: apps/v1
    kind: Deployment
    spec:
      template:
        spec:
          containers:
          - name: app
            env:
            - name: TIMEOUT
              value: "30"
  junk.py: |
    garbage_marker_12345 = 1
    unused_marker_67890 = 2
changed:
  templates/deployment.yaml: |
    apiVersion: apps/v1
    kind: Deployment
    spec:
      template:
        spec:
          containers:
          - name: app
            env:
            - name: TIMEOUT
              value: {{ .Values.timeout | default 30 | quote }}
assertions:
  must_include:
  - default 30
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add default
