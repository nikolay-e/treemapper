name: helm_057_values_to_service
initial:
  chart/values.yaml: |
    service:
      type: ClusterIP
      port: 80
  chart/templates/service.yaml: |
    apiVersion: v1
    kind: Service
    metadata:
      name: {{ .Release.Name }}
    spec:
      type: {{ .Values.service.type }}
      ports:
        - port: {{ .Values.service.port }}
          targetPort: http
changed:
  chart/values.yaml: |
    service:
      type: LoadBalancer
      port: 443
      annotations:
        service.beta.kubernetes.io/aws-load-balancer-type: nlb
assertions:
  must_include:
    - Service
options:
  commit_message: change to loadbalancer
