name: cpp_256_bit_manipulation
initial:
  flags.h: |
    #pragma once
    #include <cstdint>

    constexpr uint32_t FLAG_ENABLED = 0;
    constexpr uint32_t FLAG_VISIBLE = 1;
    constexpr uint32_t FLAG_ACTIVE = 2;
    // unused_marker_67890
  state.cpp: |
    #include <iostream>
    int main() { return 0; }
changed:
  state.cpp: |
    #include "flags.h"

    class State {
        uint32_t flags = 0;

    public:
        void enable() { flags |= (1 << FLAG_ENABLED); }
        void disable() { flags &= ~(1 << FLAG_ENABLED); }
        bool isEnabled() const { return flags & (1 << FLAG_ENABLED); }

        void setVisible(bool v) {
            if (v) flags |= (1 << FLAG_VISIBLE);
            else flags &= ~(1 << FLAG_VISIBLE);
        }
    };
assertions:
  must_include:
  - State
  - enable
  - FLAG_ENABLED
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add bit manipulation
