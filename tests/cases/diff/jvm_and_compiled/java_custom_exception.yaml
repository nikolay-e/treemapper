name: java_custom_exception
initial:
  src/main/java/com/example/Service.java: |
    package com.example;

    public class Service {
        public void process(String input) {
            if (input == null) {
                throw new RuntimeException("Input is null");
            }
        }
    }
changed:
  src/main/java/com/example/ServiceException.java: |
    package com.example;

    public class ServiceException extends RuntimeException {
        private final String errorCode;

        public ServiceException(String message, String errorCode) {
            super(message);
            this.errorCode = errorCode;
        }

        public ServiceException(String message, String errorCode, Throwable cause) {
            super(message, cause);
            this.errorCode = errorCode;
        }

        public String getErrorCode() {
            return errorCode;
        }
    }
  src/main/java/com/example/ValidationException.java: |
    package com.example;

    public class ValidationException extends ServiceException {
        public ValidationException(String message) {
            super(message, "VALIDATION_ERROR");
        }
    }
  src/main/java/com/example/Service.java: |
    package com.example;

    public class Service {
        public void process(String input) {
            if (input == null) {
                throw new ValidationException("Input cannot be null");
            }
            if (input.isEmpty()) {
                throw new ValidationException("Input cannot be empty");
            }
        }
    }
assertions:
  must_include:
  - ServiceException.java
  - errorCode
options:
  commit_message: Add custom exception hierarchy
