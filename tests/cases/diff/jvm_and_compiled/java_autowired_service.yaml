name: java_autowired_service
initial:
  src/main/java/com/example/UserService.java: |
    package com.example;

    import org.springframework.stereotype.Service;

    @Service
    public class UserService {
        public User findById(Long id) {
            return new User(id, "John");
        }
    }
  src/main/java/com/example/UserController.java: |
    package com.example;

    import org.springframework.beans.factory.annotation.Autowired;
    import org.springframework.web.bind.annotation.*;

    @RestController
    @RequestMapping("/users")
    public class UserController {

        @Autowired
        private UserService userService;

        @GetMapping("/{id}")
        public User getUser(@PathVariable Long id) {
            return userService.findById(id);
        }
    }
changed:
  src/main/java/com/example/UserService.java: |
    package com.example;

    import org.springframework.stereotype.Service;
    import java.util.List;

    @Service
    public class UserService {
        public User findById(Long id) {
            return new User(id, "John");
        }

        public List<User> findAll() {
            return List.of(new User(1L, "John"), new User(2L, "Jane"));
        }

        public User save(User user) {
            return user;
        }
    }
assertions:
  must_include:
  - UserService.java
  - findAll
  - save
options:
  commit_message: Add findAll and save methods
