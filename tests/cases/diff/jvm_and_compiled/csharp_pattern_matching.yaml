name: csharp_pattern_matching
initial:
  User.cs: |
    public class User
    {
        public string Name { get; set; }
        public int Age { get; set; }
        public bool IsActive { get; set; }
    }
  Validator.cs: |
    // Initial
    class Validator { }
changed:
  Validator.cs: |
    class Validator
    {
        public string ValidateUser(object obj)
        {
            return obj switch
            {
                User { Age: < 18 } => "User is too young",
                User { IsActive: false } => "User is not active",
                User { Name: "" or null } => "User name is empty",
                User user => $"Valid user: {user.Name}",
                null => "Object is null",
                _ => "Unknown object"
            };
        }

        public bool IsAdult(object obj)
        {
            if (obj is User { Age: >= 18 } adult)
            {
                Console.WriteLine($"{adult.Name} is an adult");
                return true;
            }
            return false;
        }
    }
assertions:
  must_include:
  - Validator.cs
  - switch
  - 'User { Age:'
options:
  commit_message: Add pattern matching
