name: scala_object_singleton
initial:
  Config.scala: |
    object Config {
      val timeout: Int = 30
      val maxRetries: Int = 3
      val baseUrl: String = "https://api.example.com"

      def getFullUrl(path: String): String = s"$baseUrl$path"
    }
  ApiClient.scala: |
    // Initial
    class ApiClient {}
changed:
  ApiClient.scala: |
    class ApiClient {
      def fetch(path: String): String = {
        val url = Config.getFullUrl(path)
        val timeout = Config.timeout
        s"Fetching $url with timeout $timeout"
      }

      def retry(action: => String): String = {
        var attempts = 0
        while (attempts < Config.maxRetries) {
          attempts += 1
        }
        action
      }
    }
assertions:
  must_include:
  - ApiClient.scala
  - Config.getFullUrl
  - Config.maxRetries
options:
  commit_message: Add object singleton usage
