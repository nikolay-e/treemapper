name: csharp_record
initial:
  Person.cs: |
    public record Person(string Name, int Age)
    {
        public bool IsAdult => Age >= 18;
    }

    public record Employee(string Name, int Age, string Department) : Person(Name, Age);
  Program.cs: |
    // Initial
    class Program { }
changed:
  Program.cs: |
    class Program
    {
        static void Main()
        {
            var person = new Person("John", 30);
            var updated = person with { Age = 31 };

            var employee = new Employee("Jane", 25, "IT");

            Console.WriteLine(person == new Person("John", 30)); // true
            Console.WriteLine(employee.Department);
        }
    }
assertions:
  must_include:
  - Program.cs
  - with { Age = 31 }
options:
  commit_message: Add record usage
