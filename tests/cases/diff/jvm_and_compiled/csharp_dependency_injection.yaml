name: csharp_dependency_injection
initial:
  IUserService.cs: |
    public interface IUserService
    {
        User GetUser(int id);
        void CreateUser(User user);
    }
  UserService.cs: |
    public class UserService : IUserService
    {
        public User GetUser(int id)
        {
            return new User { Id = id, Name = "User" };
        }

        public void CreateUser(User user)
        {
            // Save user
        }
    }
  Startup.cs: |
    // Initial
    class Startup { }
changed:
  Startup.cs: |
    using Microsoft.Extensions.DependencyInjection;

    class Startup
    {
        public void ConfigureServices(IServiceCollection services)
        {
            services.AddScoped<IUserService, UserService>();
        }
    }
assertions:
  must_include:
  - Startup.cs
  - AddScoped
  - IUserService, UserService
options:
  commit_message: Add dependency injection
