name: swift_result_type
initial:
  APIError.swift: |
    enum APIError: Error {
        case networkError
        case invalidResponse
        case decodingError
    }
  DataLoader.swift: |
    // Initial
    struct DataLoader {}
changed:
  DataLoader.swift: |
    import Foundation

    struct DataLoader {
        func load(from url: URL) -> Result<Data, APIError> {
            // Simulated loading
            guard let data = "test".data(using: .utf8) else {
                return .failure(.invalidResponse)
            }
            return .success(data)
        }

        func process(url: URL) {
            let result = load(from: url)
            switch result {
            case .success(let data):
                print("Loaded \(data.count) bytes")
            case .failure(let error):
                print("Error: \(error)")
            }
        }
    }
assertions:
  must_include:
  - DataLoader.swift
  - Result<Data, APIError>
  - .success
  - .failure
options:
  commit_message: Add result type
