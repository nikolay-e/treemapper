name: php_005_abstract_class
initial:
  BaseController.php: |
    <?php
    abstract class BaseController {
        abstract protected function getModel(): string;

        public function index(): array {
            return ['model' => $this->getModel()];
        }

        protected function respond(array $data): void {
            echo json_encode($data);
        }
    }
  UserController.php: |
    <?php
    class UserController {}
  garbage.php: |
    <?php
    $garbageBaseUnused12345 = "never called";
    $unused_marker_67890 = "not used";
changed:
  UserController.php: |
    <?php
    require_once 'BaseController.php';

    class UserController extends BaseController {
        protected function getModel(): string {
            return 'User';
        }

        public function show(int $id): void {
            $this->respond(['id' => $id, 'model' => $this->getModel()]);
        }
    }
assertions:
  must_include:
  - UserController.php
  - getModel
  must_not_include:
  - garbageBaseUnused12345
  - unused_marker_67890
