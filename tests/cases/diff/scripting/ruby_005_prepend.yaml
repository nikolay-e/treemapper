name: ruby_005_prepend
initial:
  wrapper.rb: |
    module Wrapper
      def process(data)
        puts "Before processing"
        result = super
        puts "After processing"
        result
      end
    end
  handler.rb: |
    # Initial
    class Handler
      def process(data)
        data.upcase
      end
    end
  garbage.rb: |
    garbage_wrapper_unused_67890 = "never called"
    unused_marker_12345 = "not used"
changed:
  handler.rb: |
    require_relative 'wrapper'

    class Handler
      prepend Wrapper

      def process(data)
        data.upcase
      end
    end
assertions:
  must_include:
  - handler.rb
  - prepend
  must_not_include:
  - garbage_wrapper_unused_67890
  - unused_marker_12345
