name: php_010_union_type
initial:
  Data.php: |
    <?php
    class Data {
        public mixed $value;

        public function __construct(mixed $value) {
            $this->value = $value;
        }
    }
  Parser.php: |
    <?php
    class Parser {}
  garbage.php: |
    <?php
    $garbageUnion99999 = "never used";
    $unused_marker_12345 = "not used";
changed:
  Parser.php: |
    <?php
    require_once 'Data.php';

    class Parser {
        public function parse(string|array $input): Data {
            if (is_string($input)) {
                return new Data(json_decode($input, true));
            }
            return new Data($input);
        }
    }
assertions:
  must_include:
  - Parser.php
  - Data
  must_not_include:
  - garbageUnion99999
  - unused_marker_12345
