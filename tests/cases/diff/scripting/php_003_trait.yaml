name: php_003_trait
initial:
  LoggingTrait.php: |
    <?php
    trait LoggingTrait {
        public function log(string $message): void {
            echo "[LOG] " . $message . "\n";
        }

        public function logError(string $message): void {
            echo "[ERROR] " . $message . "\n";
        }
    }
  Service.php: |
    <?php
    class Service {}
  garbage.php: |
    <?php
    $garbageLogUnused67890 = "never called";
    $unused_marker_12345 = "not used";
changed:
  Service.php: |
    <?php
    require_once 'LoggingTrait.php';

    class Service {
        use LoggingTrait;

        public function process(): void {
            $this->log("Processing started");
            $this->log("Processing completed");
        }
    }
assertions:
  must_include:
  - Service.php
  - log
  must_not_include:
  - garbageLogUnused67890
  - unused_marker_12345
