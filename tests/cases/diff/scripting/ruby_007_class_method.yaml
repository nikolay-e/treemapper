name: ruby_007_class_method
initial:
  user.rb: |
    class User
      def self.find(id)
        new(id: id, name: "User")
      end

      def self.all
        []
      end

      attr_reader :id, :name

      def initialize(id:, name:)
        @id = id
        @name = name
      end
    end
  controller.rb: |
    # Initial
    class Controller
    end
  garbage.rb: |
    garbage_class_find_unused_12345 = "never called"
    unused_marker_67890 = "not used"
changed:
  controller.rb: |
    require_relative 'user'

    class Controller
      def show(id)
        @user = User.find(id)
      end

      def index
        @users = User.all
      end
    end
assertions:
  must_include:
  - controller.rb
  - find
  must_not_include:
  - garbage_class_find_unused_12345
  - unused_marker_67890
