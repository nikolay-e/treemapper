name: php_013_anonymous_class
initial:
  Handler.php: |
    <?php
    interface Handler {
        public function handle(mixed $data): mixed;
    }
  app.php: |
    <?php
    echo "Hello";
  garbage.php: |
    <?php
    interface GarbageAnon99999 {
        public function unused(): void;
    }
    $unused_marker_12345 = "not used";
changed:
  app.php: |
    <?php
    require_once 'Handler.php';

    $handler = new class implements Handler {
        public function handle(mixed $data): mixed {
            return strtoupper($data);
        }
    };

    echo $handler->handle('hello');
assertions:
  must_include:
  - app.php
  - Handler
  must_not_include:
  - GarbageAnon99999
  - unused_marker_12345
