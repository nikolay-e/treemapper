name: ruby_004_extend
initial:
  class_methods.rb: |
    module ClassMethods
      def find(id)
        new(id: id)
      end

      def all
        []
      end
    end
  model.rb: |
    # Initial
    class Model
    end
  garbage.rb: |
    garbage_class_method_unused_12345 = "never called"
    unused_marker_67890 = "not used"
changed:
  model.rb: |
    require_relative 'class_methods'

    class Model
      extend ClassMethods

      attr_reader :id

      def initialize(id:)
        @id = id
      end
    end

    model = Model.find(1)
assertions:
  must_include:
  - model.rb
  - find
  must_not_include:
  - garbage_class_method_unused_12345
  - unused_marker_67890
