name: php_015_laravel_controller
initial:
  StoreUserRequest.php: |
    <?php
    namespace App\Http\Requests;

    class StoreUserRequest {
        public function validated(): array {
            return [
                'name' => 'John',
                'email' => 'john@example.com'
            ];
        }
    }
  UserController.php: |
    <?php
    class UserController {}
  garbage.php: |
    <?php
    $garbageRequest67890 = [];
    $unused_marker_12345 = "not used";
changed:
  UserController.php: |
    <?php
    use App\Http\Requests\StoreUserRequest;

    class UserController {
        public function store(StoreUserRequest $request): array {
            $data = $request->validated();
            return ['user' => $data, 'created' => true];
        }
    }
assertions:
  must_include:
  - UserController.php
  - validated
  must_not_include:
  - garbageRequest67890
  - unused_marker_12345
