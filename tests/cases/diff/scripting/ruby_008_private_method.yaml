name: ruby_008_private_method
initial:
  service.rb: |
    class Service
      def process(data)
        validated = validate(data)
        transform(validated)
      end

      private

      def validate(data)
        raise "Invalid" if data.nil?
        data
      end

      def transform(data)
        data.to_s.upcase
      end
    end
  app.rb: |
    # Initial
    puts 'Hello'
  garbage.rb: |
    garbage_private_unused_67890 = "never called"
    unused_marker_12345 = "not used"
changed:
  app.rb: |
    require_relative 'service'

    service = Service.new
    result = service.process("hello")
    puts result
assertions:
  must_include:
  - app.rb
  - process
  must_not_include:
  - garbage_private_unused_67890
  - unused_marker_12345
