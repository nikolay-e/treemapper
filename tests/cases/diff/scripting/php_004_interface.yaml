name: php_004_interface
initial:
  RequestHandler.php: |
    <?php
    interface RequestHandler {
        public function handle(array $request): array;
        public function validate(array $request): bool;
    }
  Handler.php: |
    <?php
    class Handler {}
  garbage.php: |
    <?php
    interface GarbageHandler99999 {
        public function unused(): void;
    }
    $unused_marker_12345 = "not used";
changed:
  Handler.php: |
    <?php
    require_once 'RequestHandler.php';

    class Handler implements RequestHandler {
        public function handle(array $request): array {
            if (!$this->validate($request)) {
                return ['error' => 'Invalid request'];
            }
            return ['success' => true];
        }

        public function validate(array $request): bool {
            return isset($request['action']);
        }
    }
assertions:
  must_include:
  - Handler.php
  - handle
  must_not_include:
  - GarbageHandler99999
  - unused_marker_12345
