name: csharp_295_func_action
initial:
  Services/Pipeline.cs: |
    namespace MyApp.Services;

    public class Pipeline<T>
    {
        private readonly List<Func<T, T>> _steps = new();

        public Pipeline<T> AddStep(Func<T, T> step)
        {
            _steps.Add(step);
            return this;
        }

        public T Execute(T input)
        {
            return _steps.Aggregate(input, (current, step) => step(current));
        }
    }
    // garbage_marker_12345
  Program.cs: |
    using System;

    class Program
    {
        static void Main() { }
    }
changed:
  Program.cs: |
    using System;
    using MyApp.Services;

    class Program
    {
        static void Main()
        {
            var pipeline = new Pipeline<string>()
                .AddStep(s => s.Trim())
                .AddStep(s => s.ToUpper())
                .AddStep(s => $"[{s}]");

            var result = pipeline.Execute("  hello world  ");
            Console.WriteLine(result);
        }
    }
assertions:
  must_include:
  - Pipeline
  - AddStep
  - Execute
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add Func/Action usage
