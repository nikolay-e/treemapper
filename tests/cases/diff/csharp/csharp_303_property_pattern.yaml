name: csharp_303_property_pattern
initial:
  Models/Request.cs: |
    namespace MyApp.Models;

    public class Request
    {
        public string Method { get; set; }
        public string Path { get; set; }
        public bool IsAuthenticated { get; set; }
        public string? UserId { get; set; }
    }
    // garbage_marker_12345
  Services/RequestHandler.cs: |
    namespace MyApp.Services;

    public class RequestHandler { }
changed:
  Services/RequestHandler.cs: |
    using MyApp.Models;

    namespace MyApp.Services;

    public class RequestHandler
    {
        public string Route(Request request)
        {
            return request switch
            {
                { Method: "GET", Path: "/" } => "Home",
                { Method: "GET", Path: "/api", IsAuthenticated: true } => "API",
                { Method: "POST", IsAuthenticated: true, UserId: not null } => "Authorized Post",
                { IsAuthenticated: false } => "Unauthorized",
                _ => "Not Found"
            };
        }
    }
assertions:
  must_include:
  - RequestHandler
  - Route
  - Request
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add property pattern usage
