name: csharp_292_linq_query
initial:
  Models/Product.cs: |
    namespace MyApp.Models;

    public class Product
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public decimal Price { get; set; }
        public string Category { get; set; }
    }
    // unused_marker_67890
  Services/ProductService.cs: |
    namespace MyApp.Services;

    public class ProductService { }
changed:
  Services/ProductService.cs: |
    using MyApp.Models;

    namespace MyApp.Services;

    public class ProductService
    {
        private readonly List<Product> _products = new();

        public IEnumerable<Product> GetExpensiveProducts(decimal minPrice)
        {
            return from p in _products
                   where p.Price >= minPrice
                   orderby p.Price descending
                   select p;
        }

        public IEnumerable<IGrouping<string, Product>> GroupByCategory()
        {
            return from p in _products
                   group p by p.Category;
        }
    }
assertions:
  must_include:
  - ProductService
  - GetExpensiveProducts
  - Product
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add LINQ query syntax
