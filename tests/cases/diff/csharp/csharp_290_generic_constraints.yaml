name: csharp_290_generic_constraints
initial:
  Services/Factory.cs: |
    namespace MyApp.Services;

    public class Factory
    {
        public static T Create<T>() where T : class, new()
        {
            return new T();
        }

        public static T CreateWithInit<T>(Action<T> initializer) where T : class, new()
        {
            var instance = new T();
            initializer(instance);
            return instance;
        }
    }
    // unused_marker_67890
  Program.cs: |
    using System;

    class Program
    {
        static void Main() { }
    }
changed:
  Program.cs: |
    using System;
    using MyApp.Services;
    using MyApp.Models;

    class Program
    {
        static void Main()
        {
            var user = Factory.Create<User>();
            var initializedUser = Factory.CreateWithInit<User>(u => u.Name = "John");
        }
    }
assertions:
  must_include:
  - Factory
  - Create
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add generic constraints usage
