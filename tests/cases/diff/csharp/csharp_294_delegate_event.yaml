name: csharp_294_delegate_event
initial:
  Events/OrderEventArgs.cs: |
    namespace MyApp.Events;

    public class OrderEventArgs : EventArgs
    {
        public int OrderId { get; }
        public string Status { get; }

        public OrderEventArgs(int orderId, string status)
        {
            OrderId = orderId;
            Status = status;
        }
    }
    // unused_marker_67890
  Services/OrderProcessor.cs: |
    namespace MyApp.Services;

    public class OrderProcessor { }
changed:
  Services/OrderProcessor.cs: |
    using MyApp.Events;

    namespace MyApp.Services;

    public class OrderProcessor
    {
        public event EventHandler<OrderEventArgs>? OrderProcessed;

        public void ProcessOrder(int orderId)
        {
            // Process order...
            OnOrderProcessed(new OrderEventArgs(orderId, "Completed"));
        }

        protected virtual void OnOrderProcessed(OrderEventArgs e)
        {
            OrderProcessed?.Invoke(this, e);
        }
    }
assertions:
  must_include:
  - OrderProcessor
  - OrderEventArgs
  - OrderProcessed
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add delegate event usage
