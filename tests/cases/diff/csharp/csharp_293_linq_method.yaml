name: csharp_293_linq_method
initial:
  Models/Order.cs: |
    namespace MyApp.Models;

    public class Order
    {
        public int Id { get; set; }
        public int CustomerId { get; set; }
        public decimal Total { get; set; }
        public DateTime Date { get; set; }
    }
    // garbage_marker_12345
  Services/OrderService.cs: |
    namespace MyApp.Services;

    public class OrderService { }
changed:
  Services/OrderService.cs: |
    using MyApp.Models;

    namespace MyApp.Services;

    public class OrderService
    {
        private readonly List<Order> _orders = new();

        public IEnumerable<Order> GetRecentOrders(int days)
        {
            return _orders
                .Where(o => o.Date >= DateTime.Now.AddDays(-days))
                .OrderByDescending(o => o.Date)
                .Take(10);
        }

        public decimal GetTotalRevenue()
        {
            return _orders.Sum(o => o.Total);
        }

        public Dictionary<int, decimal> GetCustomerTotals()
        {
            return _orders
                .GroupBy(o => o.CustomerId)
                .ToDictionary(g => g.Key, g => g.Sum(o => o.Total));
        }
    }
assertions:
  must_include:
  - OrderService
  - GetRecentOrders
  - Order
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add LINQ method syntax
