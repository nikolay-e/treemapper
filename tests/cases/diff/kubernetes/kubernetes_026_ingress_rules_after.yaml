k8s/base/deployment.yaml: "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: api-gateway\n  namespace: production\n  labels:\n    app: api-gateway\n    component: ingress\nspec:\n  replicas: 3\n\
  \  selector:\n    matchLabels:\n      app: api-gateway\n  template:\n    metadata:\n      labels:\n        app: api-gateway\n        component: ingress\n    spec:\n      containers:\n      - name: api\n\
  \        image: registry.example.com/api-gateway:v1.5.0\n        ports:\n        - containerPort: 8080\n          name: http\n        - containerPort: 8443\n          name: https\n        resources:\n\
  \          requests:\n            memory: \"256Mi\"\n            cpu: \"250m\"\n          limits:\n            memory: \"512Mi\"\n            cpu: \"500m\"\n"
k8s/base/service.yaml: "apiVersion: v1\nkind: Service\nmetadata:\n  name: api-gateway\n  namespace: production\n  labels:\n    app: api-gateway\nspec:\n  selector:\n    app: api-gateway\n  ports:\n  - name:\
  \ http\n    port: 80\n    targetPort: 8080\n  - name: https\n    port: 443\n    targetPort: 8443\n"
k8s/base/ingress.yaml: "apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: api-ingress\n  namespace: production\n  annotations:\n    kubernetes.io/ingress.class: nginx\n    nginx.ingress.kubernetes.io/proxy-body-size:\
  \ \"50m\"\nspec:\n  rules:\n  - host: api.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: api-gateway\n       \
  \     port:\n              number: 80\n  - host: api-v2.example.com\n    http:\n      paths:\n      - path: /v2\n        pathType: Prefix\n        backend:\n          service:\n            name: api-gateway\n\
  \            port:\n              number: 80\n"
k8s/base/configmap.yaml: "apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: api-config\n  namespace: production\ndata:\n  LOG_LEVEL: info\n  API_TIMEOUT: \"30\"\n  RATE_LIMIT: \"1000\"\n"
k8s/unrelated/logging/fluentd-daemonset.yaml: "# GARBAGE_K8S_426_FLUENTD_LOGGING\napiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: GARBAGE_K8S_426_FLUENTD_DS\n  namespace: logging\nspec:\n  selector:\n\
  \    matchLabels:\n      app: GARBAGE_K8S_426_FLUENTD_LABEL\n  template:\n    spec:\n      containers:\n      - name: fluentd\n        image: fluent/fluentd:GARBAGE_K8S_426_FLUENTD_VERSION\n        env:\n\
  \        - name: FLUENT_CONF\n          value: GARBAGE_K8S_426_FLUENT_CONFIG\n"
k8s/unrelated/monitoring/prometheus-operator.yaml: "# GARBAGE_K8S_426_PROMETHEUS_OPERATOR\napiVersion: monitoring.coreos.com/v1\nkind: ServiceMonitor\nmetadata:\n  name: GARBAGE_K8S_426_SERVICEMONITOR\n\
  \  namespace: monitoring\nspec:\n  selector:\n    matchLabels:\n      team: GARBAGE_K8S_426_PROMETHEUS_TEAM\n  endpoints:\n  - port: GARBAGE_K8S_426_METRICS_PORT\n"
k8s/unrelated/security/network-policies.yaml: "# GARBAGE_K8S_426_SECURITY_POLICIES\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: GARBAGE_K8S_426_DEFAULT_DENY\n  namespace: security\n\
  spec:\n  podSelector:\n    matchLabels:\n      security: GARBAGE_K8S_426_SECURITY_LABEL\n  policyTypes:\n  - Ingress\n  - Egress\n"
scripts/deploy.sh: '#!/bin/bash

  kubectl apply -f k8s/base/

  '
