k8s/base/deployment.yaml: |
  apiVersion: apps/v1
  kind: Deployment
  metadata:
    name: dns-test-app
    namespace: production
    labels:
      app: dns-test-app
      tier: backend
  spec:
    replicas: 3
    selector:
      matchLabels:
        app: dns-test-app
    template:
      metadata:
        labels:
          app: dns-test-app
          tier: backend
      spec:
        containers:
        - name: app
          image: registry.example.com/dns-test-app:v1.0.0
          ports:
          - containerPort: 8080
            name: http
          env:
          - name: RESOLVER_TIMEOUT
            value: "5"
          - name: DNS_CACHE_TTL
            value: "30"
          resources:
            requests:
              memory: "256Mi"
              cpu: "250m"
            limits:
              memory: "512Mi"
              cpu: "500m"
k8s/base/service.yaml: |
  apiVersion: v1
  kind: Service
  metadata:
    name: dns-test-app
    namespace: production
  spec:
    selector:
      app: dns-test-app
    ports:
    - name: http
      port: 80
      targetPort: 8080
k8s/base/configmap.yaml: |
  apiVersion: v1
  kind: ConfigMap
  metadata:
    name: dns-test-config
    namespace: production
  data:
    LOG_LEVEL: debug
    ENABLE_DNS_LOGGING: "true"
k8s/base/serviceaccount.yaml: |
  apiVersion: v1
  kind: ServiceAccount
  metadata:
    name: dns-test-app
    namespace: production
  automountServiceAccountToken: true
k8s/unrelated/node-local-dns/daemonset.yaml: |
  # GARBAGE_K8S_436_NODE_LOCAL_DNS
  apiVersion: apps/v1
  kind: DaemonSet
  metadata:
    name: GARBAGE_K8S_436_NODELOCALDNS
    namespace: kube-system
  spec:
    selector:
      matchLabels:
        app: GARBAGE_K8S_436_NLD_LABEL
    template:
      spec:
        containers:
        - name: node-local-dns
          image: GARBAGE_K8S_436_NLD_IMAGE
          args:
          - GARBAGE_K8S_436_NLD_ARGS
k8s/unrelated/external-dns/deployment.yaml: |
  # GARBAGE_K8S_436_EXTDNS_DEPLOY
  apiVersion: apps/v1
  kind: Deployment
  metadata:
    name: GARBAGE_K8S_436_EXTDNS_NAME
    namespace: external-dns
  spec:
    selector:
      matchLabels:
        app: GARBAGE_K8S_436_EXTDNS_LABEL
    template:
      spec:
        containers:
        - name: external-dns
          image: GARBAGE_K8S_436_EXTDNS_IMAGE
          env:
          - name: PROVIDER
            value: GARBAGE_K8S_436_DNS_PROVIDER
k8s/unrelated/dnspolicy/stubdomain.yaml: |
  # GARBAGE_K8S_436_STUBDOMAIN
  apiVersion: v1
  kind: ConfigMap
  metadata:
    name: GARBAGE_K8S_436_STUB_CM
    namespace: kube-system
  data:
    stubDomains: GARBAGE_K8S_436_STUB_DATA
    upstreamNameservers: GARBAGE_K8S_436_UPSTREAM
charts/values.yaml: |
  # GARBAGE_K8S_436_HELM_CHART
  replicaCount: GARBAGE_K8S_436_CHART_REPLICAS
  dns:
    policy: GARBAGE_K8S_436_DNS_POLICY
    config:
      nameservers: GARBAGE_K8S_436_CHART_NAMESERVERS
