name: k8s_436_dns_config
initial:
  deployment.yaml: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      name: myapp
    spec:
      template:
        spec:
          containers:
          - name: app
            image: myapp:latest
  unrelated.txt: |
    garbage_marker_k8s436 = True
    unused_marker_k8s436 = False
changed:
  deployment.yaml: |
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      name: myapp
    spec:
      template:
        spec:
          dnsPolicy: ClusterFirst
          dnsConfig:
            nameservers:
            - 8.8.8.8
            searches:
            - default.svc.cluster.local
          containers:
          - name: app
            image: myapp:latest
assertions:
  must_include:
  - dnsConfig
  must_not_include:
  - garbage_marker_k8s436
  - unused_marker_k8s436
options:
  commit_message: Add DNS config
