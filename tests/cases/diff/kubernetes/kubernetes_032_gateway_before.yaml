k8s/base/deployment.yaml: "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: api-service\n  namespace: production\n  labels:\n    app: api-service\n    tier: backend\nspec:\n  replicas: 3\n  selector:\n\
  \    matchLabels:\n      app: api-service\n  template:\n    metadata:\n      labels:\n        app: api-service\n        tier: backend\n      annotations:\n        sidecar.istio.io/inject: \"true\"\n \
  \   spec:\n      containers:\n      - name: api\n        image: registry.example.com/api-service:v1.5.0\n        ports:\n        - containerPort: 8080\n          name: http\n        - containerPort: 8443\n\
  \          name: https\n        resources:\n          requests:\n            memory: \"512Mi\"\n            cpu: \"500m\"\n          limits:\n            memory: \"1Gi\"\n            cpu: \"1000m\"\n"
k8s/base/service.yaml: "apiVersion: v1\nkind: Service\nmetadata:\n  name: api-service\n  namespace: production\nspec:\n  selector:\n    app: api-service\n  ports:\n  - name: http\n    port: 80\n    targetPort:\
  \ 8080\n  - name: https\n    port: 443\n    targetPort: 8443\n"
k8s/base/virtual-service.yaml: "apiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: api-service\n  namespace: production\nspec:\n  hosts:\n  - api.example.com\n  - api-internal.example.com\n\
  \  gateways:\n  - api-gateway\n  http:\n  - route:\n    - destination:\n        host: api-service\n        port:\n          number: 80\n"
k8s/base/gateway.yaml: "apiVersion: networking.istio.io/v1beta1\nkind: Gateway\nmetadata:\n  name: api-gateway\n  namespace: production\nspec:\n  selector:\n    istio: ingressgateway\n  servers:\n  - port:\n\
  \      number: 80\n      name: http\n      protocol: HTTP\n    hosts:\n    - api.example.com\n"
k8s/base/peer-authentication.yaml: "apiVersion: security.istio.io/v1beta1\nkind: PeerAuthentication\nmetadata:\n  name: default\n  namespace: production\nspec:\n  mtls:\n    mode: STRICT\n"
k8s/unrelated/cert-manager/clusterissuer.yaml: "# GARBAGE_K8S_432_CERT_MANAGER\napiVersion: cert-manager.io/v1\nkind: ClusterIssuer\nmetadata:\n  name: GARBAGE_K8S_432_ISSUER_NAME\nspec:\n  acme:\n    server:\
  \ GARBAGE_K8S_432_ACME_SERVER\n    email: GARBAGE_K8S_432_EMAIL\n    privateKeySecretRef:\n      name: GARBAGE_K8S_432_SECRET_NAME\n"
k8s/unrelated/external-dns/externaldns.yaml: "# GARBAGE_K8S_432_EXTERNAL_DNS\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: GARBAGE_K8S_432_EXTERNALDNS\n  namespace: external-dns\nspec:\n  selector:\n\
  \    matchLabels:\n      app: GARBAGE_K8S_432_EXTERNALDNS_LABEL\n  template:\n    spec:\n      containers:\n      - name: external-dns\n        image: GARBAGE_K8S_432_EXTERNALDNS_IMAGE\n        args:\n\
  \        - GARBAGE_K8S_432_PROVIDER_ARG\n"
k8s/unrelated/secrets/external-secrets.yaml: "# GARBAGE_K8S_432_EXTERNAL_SECRETS\napiVersion: external-secrets.io/v1beta1\nkind: ExternalSecret\nmetadata:\n  name: GARBAGE_K8S_432_EXT_SECRET\n  namespace:\
  \ secrets\nspec:\n  secretStoreRef:\n    name: GARBAGE_K8S_432_SECRET_STORE\n    kind: GARBAGE_K8S_432_STORE_KIND\n  target:\n    name: GARBAGE_K8S_432_TARGET_SECRET\n"
.github/workflows/deploy.yaml: "on:\n  push:\njobs:\n  deploy:\n    steps:\n"
