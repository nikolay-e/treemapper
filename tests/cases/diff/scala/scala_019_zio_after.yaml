Client.scala: |
  import zio._

  trait Client {
    def fetch(url: String): Task[String]
  }

  object Client {
    val live: ULayer[Client] = ZLayer.succeed(new Client {
      def fetch(url: String): Task[String] = ZIO.succeed(s"Response from $url")
    })
  }
DataFetcher.scala: |
  import zio._

  case class Data(content: String)

  object DataFetcher {
    def fetch(url: String): ZIO[Client, Throwable, Data] = {
      for {
        client <- ZIO.service[Client]
        response <- client.fetch(url)
      } yield Data(response)
    }

    def fetchMultiple(urls: List[String]): ZIO[Client, Throwable, List[Data]] = {
      ZIO.foreach(urls)(fetch)
    }
  }
