name: scala_033_scalatest
initial:
  User.scala: |
    case class User(name: String, email: String) {
      def isValidEmail: Boolean = email.contains("@") && email.contains(".")
      def normalizedEmail: String = email.toLowerCase.trim
    }
  UserSpec.scala: |
    class UserSpec {}
changed:
  UserSpec.scala: |
    import org.scalatest.flatspec.AnyFlatSpec
    import org.scalatest.matchers.should.Matchers

    class UserSpec extends AnyFlatSpec with Matchers {
      "User" should "have valid email" in {
        val user = User("John", "john@example.com")
        user.isValidEmail should be(true)
      }

      it should "reject invalid email" in {
        val user = User("John", "invalid-email")
        user.isValidEmail should be(false)
      }

      it should "normalize email" in {
        val user = User("John", "  JOHN@Example.COM  ")
        user.normalizedEmail should equal("john@example.com")
      }

      "User creation" should "preserve name" in {
        val user = User("Jane Doe", "jane@test.com")
        user.name should be("Jane Doe")
      }
    }
assertions:
  must_include:
  - UserSpec
  - AnyFlatSpec
  - should be
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add ScalaTest
