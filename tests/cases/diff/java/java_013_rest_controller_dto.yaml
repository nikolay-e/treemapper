name: java_013_rest_controller_dto
initial:
  src/main/java/com/example/dto/UserDto.java: |
    package com.example.dto;

    public class UserDto {
        private Long id;
        private String name;

        public Long getId() { return id; }
        public void setId(Long id) { this.id = id; }
        public String getName() { return name; }
        public void setName(String name) { this.name = name; }
    }
  src/main/java/com/example/UserController.java: |
    package com.example;

    import com.example.dto.UserDto;
    import org.springframework.web.bind.annotation.*;

    @RestController
    @RequestMapping("/api/users")
    public class UserController {
        @GetMapping("/{id}")
        public UserDto getUser(@PathVariable Long id) {
            UserDto dto = new UserDto();
            dto.setId(id);
            dto.setName("User");
            return dto;
        }
    }
changed:
  src/main/java/com/example/dto/UserDto.java: |
    package com.example.dto;

    import javax.validation.constraints.*;

    public class UserDto {
        private Long id;

        @NotBlank
        @Size(min = 2, max = 100)
        private String name;

        @Email
        private String email;

        public Long getId() { return id; }
        public void setId(Long id) { this.id = id; }
        public String getName() { return name; }
        public void setName(String name) { this.name = name; }
        public String getEmail() { return email; }
        public void setEmail(String email) { this.email = email; }
    }
assertions:
  must_include:
  - UserDto
  - '@NotBlank'
  - '@Email'
  - email
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add email and validation to UserDto
