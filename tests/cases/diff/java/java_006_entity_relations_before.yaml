src/main/java/com/ordersystem/model/Order.java: |
  package com.ordersystem.model;

  import javax.persistence.*;
  import java.math.BigDecimal;
  import java.time.LocalDateTime;
  import java.util.ArrayList;
  import java.util.List;

  @Entity
  @Table(name = "orders")
  public class Order {
      @Id
      @GeneratedValue(strategy = GenerationType.IDENTITY)
      private Long id;

      @Column(name = "order_number", unique = true, nullable = false)
      private String orderNumber;

      @ManyToOne(fetch = FetchType.LAZY)
      @JoinColumn(name = "customer_id", nullable = false)
      private Customer customer;

      @OneToMany(mappedBy = "order", cascade = CascadeType.ALL, orphanRemoval = true)
      private List<OrderItem> items = new ArrayList<>();

      @Column(name = "created_at")
      private LocalDateTime createdAt;

      @PrePersist
      protected void onCreate() {
          createdAt = LocalDateTime.now();
      }

      public Long getId() { return id; }
      public void setId(Long id) { this.id = id; }
      public String getOrderNumber() { return orderNumber; }
      public void setOrderNumber(String orderNumber) { this.orderNumber = orderNumber; }
      public Customer getCustomer() { return customer; }
      public void setCustomer(Customer customer) { this.customer = customer; }
      public List<OrderItem> getItems() { return items; }
      public LocalDateTime getCreatedAt() { return createdAt; }

      public void addItem(OrderItem item) {
          items.add(item);
          item.setOrder(this);
      }

      public void removeItem(OrderItem item) {
          items.remove(item);
          item.setOrder(null);
      }
  }
src/main/java/com/ordersystem/model/Customer.java: |
  package com.ordersystem.model;

  import javax.persistence.*;
  import java.util.ArrayList;
  import java.util.List;

  @Entity
  @Table(name = "customers")
  public class Customer {
      @Id
      @GeneratedValue(strategy = GenerationType.IDENTITY)
      private Long id;

      @Column(nullable = false)
      private String name;

      @Column(unique = true, nullable = false)
      private String email;

      @OneToMany(mappedBy = "customer", cascade = CascadeType.ALL)
      private List<Order> orders = new ArrayList<>();

      public Long getId() { return id; }
      public void setId(Long id) { this.id = id; }
      public String getName() { return name; }
      public void setName(String name) { this.name = name; }
      public String getEmail() { return email; }
      public void setEmail(String email) { this.email = email; }
      public List<Order> getOrders() { return orders; }
  }
src/main/java/com/ordersystem/model/OrderItem.java: |
  package com.ordersystem.model;

  import javax.persistence.*;
  import java.math.BigDecimal;

  @Entity
  @Table(name = "order_items")
  public class OrderItem {
      @Id
      @GeneratedValue(strategy = GenerationType.IDENTITY)
      private Long id;

      @ManyToOne(fetch = FetchType.LAZY)
      @JoinColumn(name = "order_id")
      private Order order;

      @ManyToOne(fetch = FetchType.LAZY)
      @JoinColumn(name = "product_id")
      private Product product;

      private Integer quantity;

      @Column(name = "unit_price")
      private BigDecimal unitPrice;

      public Long getId() { return id; }
      public void setId(Long id) { this.id = id; }
      public Order getOrder() { return order; }
      public void setOrder(Order order) { this.order = order; }
      public Product getProduct() { return product; }
      public void setProduct(Product product) { this.product = product; }
      public Integer getQuantity() { return quantity; }
      public void setQuantity(Integer quantity) { this.quantity = quantity; }
      public BigDecimal getUnitPrice() { return unitPrice; }
      public void setUnitPrice(BigDecimal unitPrice) { this.unitPrice = unitPrice; }
  }
src/main/java/com/ordersystem/model/Product.java: |
  package com.ordersystem.model;

  import javax.persistence.*;
  import java.math.BigDecimal;

  @Entity
  @Table(name = "products")
  public class Product {
      @Id
      @GeneratedValue(strategy = GenerationType.IDENTITY)
      private Long id;

      @Column(nullable = false)
      private String name;

      private BigDecimal price;

      @Column(name = "stock_quantity")
      private Integer stockQuantity;

      public Long getId() { return id; }
      public void setId(Long id) { this.id = id; }
      public String getName() { return name; }
      public void setName(String name) { this.name = name; }
      public BigDecimal getPrice() { return price; }
      public void setPrice(BigDecimal price) { this.price = price; }
      public Integer getStockQuantity() { return stockQuantity; }
      public void setStockQuantity(Integer stockQuantity) { this.stockQuantity = stockQuantity; }
  }
src/main/java/com/ordersystem/unrelated/PromotionEngine.java: |
  package com.ordersystem.unrelated;

  import java.math.BigDecimal;
  import java.time.LocalDate;
  import java.util.HashMap;
  import java.util.Map;

  public class PromotionEngine {
      public static final String GARBAGE_JAVA_PROMO_501 = "promotion_marker_pi";
      private static final String GARBAGE_JAVA_DISCOUNT_502 = "discount_marker_rho";

      private final Map<String, BigDecimal> activePromotions = new HashMap<>();

      public void addPromotion(String code, BigDecimal discountPercent, LocalDate expiryDate) {
          if (expiryDate.isAfter(LocalDate.now())) {
              activePromotions.put(code, discountPercent);
          }
          logGarbageMarkers();
      }

      public BigDecimal applyPromotion(String code, BigDecimal orderTotal) {
          BigDecimal discount = activePromotions.getOrDefault(code, BigDecimal.ZERO);
          return orderTotal.multiply(BigDecimal.ONE.subtract(discount.divide(new BigDecimal("100"))));
      }

      private void logGarbageMarkers() {
          System.out.println(GARBAGE_JAVA_PROMO_501 + GARBAGE_JAVA_DISCOUNT_502);
      }
  }
src/main/java/com/ordersystem/unrelated/TaxCalculator.java: |
  package com.ordersystem.unrelated;

  import java.math.BigDecimal;
  import java.math.RoundingMode;
  import java.util.Map;

  public class TaxCalculator {
      public static final String GARBAGE_JAVA_TAX_503 = "tax_marker_sigma";

      private static final Map<String, BigDecimal> TAX_RATES = Map.of(
          "US-CA", new BigDecimal("0.0725"),
          "US-NY", new BigDecimal("0.08"),
          "US-TX", new BigDecimal("0.0625")
      );

      public BigDecimal calculateTax(BigDecimal amount, String region) {
          BigDecimal rate = TAX_RATES.getOrDefault(region, BigDecimal.ZERO);
          String GARBAGE_JAVA_RATE_504 = "rate_marker_tau";
          System.out.println(GARBAGE_JAVA_TAX_503 + GARBAGE_JAVA_RATE_504);
          return amount.multiply(rate).setScale(2, RoundingMode.HALF_UP);
      }
  }
