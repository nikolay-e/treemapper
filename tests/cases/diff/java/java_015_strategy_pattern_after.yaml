src/main/java/com/shipping/calculator/ShippingCalculator.java: |
  package com.shipping.calculator;

  import com.shipping.model.ShippingOrder;
  import com.shipping.model.ShippingQuote;
  import com.shipping.strategy.ShippingStrategy;
  import org.springframework.stereotype.Service;

  import java.util.Comparator;
  import java.util.List;
  import java.util.Map;
  import java.util.Optional;
  import java.util.function.Function;
  import java.util.stream.Collectors;

  @Service
  public class ShippingCalculator {
      private final Map<String, ShippingStrategy> strategies;

      public ShippingCalculator(List<ShippingStrategy> strategyList) {
          this.strategies = strategyList.stream()
              .collect(Collectors.toMap(ShippingStrategy::getMethodCode, Function.identity()));
      }

      public ShippingQuote calculateQuote(String methodCode, ShippingOrder order) {
          ShippingStrategy strategy = strategies.get(methodCode);
          if (strategy == null) {
              throw new IllegalArgumentException("Unknown shipping method: " + methodCode);
          }
          if (!strategy.isAvailableForDestination(order.getDestination())) {
              throw new IllegalStateException("Shipping method not available for destination");
          }
          return strategy.calculateQuote(order);
      }

      public List<ShippingQuote> getAllAvailableQuotes(ShippingOrder order) {
          return strategies.values().stream()
              .filter(s -> s.isAvailableForDestination(order.getDestination()))
              .filter(s -> !order.isHazardous() || s.supportsHazardousMaterials())
              .map(s -> {
                  try {
                      return s.calculateQuote(order);
                  } catch (Exception e) {
                      return null;
                  }
              })
              .filter(q -> q != null)
              .sorted(Comparator.comparing(ShippingQuote::cost))
              .toList();
      }

      public Optional<ShippingQuote> getCheapestQuote(ShippingOrder order) {
          return getAllAvailableQuotes(order).stream().findFirst();
      }

      public Optional<ShippingQuote> getFastestQuote(ShippingOrder order) {
          return getAllAvailableQuotes(order).stream()
              .min(Comparator.comparingInt(ShippingQuote::estimatedDays));
      }

      public void registerStrategy(ShippingStrategy strategy) {
          strategies.put(strategy.getMethodCode(), strategy);
      }

      public List<String> getAvailableMethods() {
          return strategies.keySet().stream().sorted().toList();
      }
  }
src/main/java/com/shipping/model/ShippingOrder.java: |
  package com.shipping.model;

  import java.math.BigDecimal;

  public class ShippingOrder {
      private String orderId;
      private String destination;
      private double weightKg;
      private String shippingMethod;
      private BigDecimal shippingCost;
      private BigDecimal orderValue;
      private boolean hazardous;

      public ShippingOrder(String orderId, String destination, double weightKg) {
          this.orderId = orderId;
          this.destination = destination;
          this.weightKg = weightKg;
          this.orderValue = BigDecimal.ZERO;
          this.hazardous = false;
      }

      public String getOrderId() { return orderId; }
      public String getDestination() { return destination; }
      public double getWeightKg() { return weightKg; }
      public String getShippingMethod() { return shippingMethod; }
      public void setShippingMethod(String shippingMethod) { this.shippingMethod = shippingMethod; }
      public BigDecimal getShippingCost() { return shippingCost; }
      public void setShippingCost(BigDecimal shippingCost) { this.shippingCost = shippingCost; }
      public BigDecimal getOrderValue() { return orderValue; }
      public void setOrderValue(BigDecimal orderValue) { this.orderValue = orderValue; }
      public boolean isHazardous() { return hazardous; }
      public void setHazardous(boolean hazardous) { this.hazardous = hazardous; }
  }
src/main/java/com/shipping/unrelated/WarehouseInventory.java: |
  package com.shipping.unrelated;

  import org.springframework.stereotype.Service;
  import java.util.HashMap;
  import java.util.Map;
  import java.util.concurrent.atomic.AtomicInteger;

  @Service
  public class WarehouseInventory {
      public static final String GARBAGE_JAVA_WAREHOUSE_T025A = "warehouse_inventory_marker_alpha";
      private static final String GARBAGE_JAVA_STOCK_T025B = "stock_level_marker_beta";

      private final Map<String, AtomicInteger> inventory = new HashMap<>();
      private final Map<String, String> warehouseLocations = new HashMap<>();

      public void addStock(String productId, int quantity, String warehouseId) {
          inventory.computeIfAbsent(productId, k -> new AtomicInteger(0)).addAndGet(quantity);
          warehouseLocations.put(productId, warehouseId);
          logGarbageMarkers();
      }

      public int getStockLevel(String productId) {
          AtomicInteger stock = inventory.get(productId);
          return stock != null ? stock.get() : 0;
      }

      public boolean reserveStock(String productId, int quantity) {
          AtomicInteger stock = inventory.get(productId);
          if (stock == null || stock.get() < quantity) {
              return false;
          }
          String GARBAGE_JAVA_RESERVE_T025C = "reserve_marker_gamma";
          System.out.println(GARBAGE_JAVA_RESERVE_T025C);
          return stock.addAndGet(-quantity) >= 0;
      }

      private void logGarbageMarkers() {
          System.out.println(GARBAGE_JAVA_WAREHOUSE_T025A + GARBAGE_JAVA_STOCK_T025B);
      }
  }
src/main/java/com/shipping/unrelated/PackagingService.java: |
  package com.shipping.unrelated;

  import org.springframework.stereotype.Service;
  import java.util.Map;

  @Service
  public class PackagingService {
      public static final String GARBAGE_JAVA_PACK_T025D = "packaging_service_marker_delta";
      private static final String GARBAGE_JAVA_BOX_T025E = "box_size_marker_epsilon";

      private static final Map<String, double[]> BOX_SIZES = Map.of(
          "SMALL", new double[]{10, 10, 10},
          "MEDIUM", new double[]{20, 20, 15},
          "LARGE", new double[]{40, 30, 25},
          "XLARGE", new double[]{60, 40, 40}
      );

      public String selectBoxSize(double length, double width, double height) {
          for (Map.Entry<String, double[]> entry : BOX_SIZES.entrySet()) {
              double[] dims = entry.getValue();
              if (length <= dims[0] && width <= dims[1] && height <= dims[2]) {
                  logGarbageMarkers();
                  return entry.getKey();
              }
          }
          String GARBAGE_JAVA_CUSTOM_T025F = "custom_box_marker_zeta";
          System.out.println(GARBAGE_JAVA_CUSTOM_T025F);
          return "CUSTOM";
      }

      public double calculateBoxVolume(String boxSize) {
          double[] dims = BOX_SIZES.get(boxSize);
          if (dims == null) return 0;
          return dims[0] * dims[1] * dims[2];
      }

      private void logGarbageMarkers() {
          System.out.println(GARBAGE_JAVA_PACK_T025D + GARBAGE_JAVA_BOX_T025E);
      }
  }
src/main/java/com/shipping/unrelated/CarrierIntegrationService.java: |
  package com.shipping.unrelated;

  import org.springframework.stereotype.Service;
  import java.util.HashMap;
  import java.util.Map;
  import java.util.UUID;

  @Service
  public class CarrierIntegrationService {
      public static final String GARBAGE_JAVA_CARRIER_T025G = "carrier_integration_marker_eta";

      private final Map<String, CarrierConfig> carriers = new HashMap<>();

      public CarrierIntegrationService() {
          carriers.put("FEDEX", new CarrierConfig("fedex-api.com", "api-key-fedex"));
          carriers.put("UPS", new CarrierConfig("ups-api.com", "api-key-ups"));
          carriers.put("USPS", new CarrierConfig("usps-api.com", "api-key-usps"));
      }

      public String createShipment(String carrier, Map<String, String> shipmentDetails) {
          CarrierConfig config = carriers.get(carrier);
          if (config == null) {
              throw new IllegalArgumentException("Unknown carrier: " + carrier);
          }
          String GARBAGE_JAVA_SHIPMENT_T025H = "shipment_create_marker_theta";
          System.out.println(GARBAGE_JAVA_CARRIER_T025G + GARBAGE_JAVA_SHIPMENT_T025H);
          return UUID.randomUUID().toString();
      }

      public String getTrackingInfo(String carrier, String trackingNumber) {
          return "In transit - " + trackingNumber;
      }

      private record CarrierConfig(String apiEndpoint, String apiKey) {}
  }
src/main/java/com/shipping/strategy/ShippingStrategy.java: |
  package com.shipping.strategy;

  import com.shipping.model.ShippingOrder;
  import com.shipping.model.ShippingQuote;
  import java.time.LocalDate;

  public interface ShippingStrategy {
      ShippingQuote calculateQuote(ShippingOrder order);
      int getEstimatedDaysToDelivery(String destination);
      boolean isAvailableForDestination(String destination);
      String getMethodCode();
      String getDisplayName();

      default LocalDate getEstimatedDeliveryDate(String destination) {
          return LocalDate.now().plusDays(getEstimatedDaysToDelivery(destination));
      }

      default boolean supportsInternational() {
          return false;
      }

      default boolean supportsHazardousMaterials() {
          return false;
      }
  }
src/main/java/com/shipping/strategy/StandardShippingStrategy.java: |
  package com.shipping.strategy;

  import com.shipping.model.ShippingOrder;
  import com.shipping.model.ShippingQuote;
  import org.springframework.stereotype.Component;
  import java.math.BigDecimal;
  import java.util.Set;

  @Component
  public class StandardShippingStrategy implements ShippingStrategy {
      private static final BigDecimal BASE_COST = new BigDecimal("5.99");
      private static final BigDecimal COST_PER_KG = new BigDecimal("0.50");
      private static final Set<String> SUPPORTED_COUNTRIES = Set.of("US", "CA", "MX");

      @Override
      public ShippingQuote calculateQuote(ShippingOrder order) {
          BigDecimal weightCost = COST_PER_KG.multiply(BigDecimal.valueOf(order.getWeightKg()));
          BigDecimal totalCost = BASE_COST.add(weightCost);
          int days = getEstimatedDaysToDelivery(order.getDestination());
          return new ShippingQuote(getMethodCode(), totalCost, days, getDisplayName());
      }

      @Override
      public int getEstimatedDaysToDelivery(String destination) {
          return destination.startsWith("US") ? 5 : 10;
      }

      @Override
      public boolean isAvailableForDestination(String destination) {
          String country = extractCountry(destination);
          return SUPPORTED_COUNTRIES.contains(country);
      }

      @Override
      public String getMethodCode() { return "STANDARD"; }

      @Override
      public String getDisplayName() { return "Standard Shipping (5-10 business days)"; }

      private String extractCountry(String destination) {
          return destination.length() >= 2 ? destination.substring(0, 2).toUpperCase() : "";
      }
  }
src/main/java/com/shipping/strategy/ExpressShippingStrategy.java: |
  package com.shipping.strategy;

  import com.shipping.model.ShippingOrder;
  import com.shipping.model.ShippingQuote;
  import org.springframework.stereotype.Component;
  import java.math.BigDecimal;
  import java.util.Set;

  @Component
  public class ExpressShippingStrategy implements ShippingStrategy {
      private static final BigDecimal BASE_COST = new BigDecimal("12.99");
      private static final BigDecimal COST_PER_KG = new BigDecimal("1.00");
      private static final BigDecimal INTERNATIONAL_SURCHARGE = new BigDecimal("15.00");
      private static final Set<String> DOMESTIC_COUNTRIES = Set.of("US");

      @Override
      public ShippingQuote calculateQuote(ShippingOrder order) {
          BigDecimal weightCost = COST_PER_KG.multiply(BigDecimal.valueOf(order.getWeightKg()));
          BigDecimal totalCost = BASE_COST.add(weightCost);
          if (!isDomestic(order.getDestination())) {
              totalCost = totalCost.add(INTERNATIONAL_SURCHARGE);
          }
          int days = getEstimatedDaysToDelivery(order.getDestination());
          return new ShippingQuote(getMethodCode(), totalCost, days, getDisplayName());
      }

      @Override
      public int getEstimatedDaysToDelivery(String destination) {
          return isDomestic(destination) ? 2 : 5;
      }

      @Override
      public boolean isAvailableForDestination(String destination) {
          return true;
      }

      @Override
      public String getMethodCode() { return "EXPRESS"; }

      @Override
      public String getDisplayName() { return "Express Shipping (2-5 business days)"; }

      @Override
      public boolean supportsInternational() { return true; }

      private boolean isDomestic(String destination) {
          String country = destination.length() >= 2 ? destination.substring(0, 2).toUpperCase() : "";
          return DOMESTIC_COUNTRIES.contains(country);
      }
  }
src/main/java/com/shipping/strategy/OvernightShippingStrategy.java: |
  package com.shipping.strategy;

  import com.shipping.model.ShippingOrder;
  import com.shipping.model.ShippingQuote;
  import org.springframework.stereotype.Component;
  import java.math.BigDecimal;
  import java.util.Set;

  @Component
  public class OvernightShippingStrategy implements ShippingStrategy {
      private static final BigDecimal BASE_COST = new BigDecimal("24.99");
      private static final BigDecimal COST_PER_KG = new BigDecimal("2.00");
      private static final BigDecimal HAZMAT_SURCHARGE = new BigDecimal("50.00");
      private static final Set<String> DOMESTIC_ONLY = Set.of("US");

      @Override
      public ShippingQuote calculateQuote(ShippingOrder order) {
          BigDecimal weightCost = COST_PER_KG.multiply(BigDecimal.valueOf(order.getWeightKg()));
          BigDecimal totalCost = BASE_COST.add(weightCost);
          if (order.isHazardous()) {
              totalCost = totalCost.add(HAZMAT_SURCHARGE);
          }
          return new ShippingQuote(getMethodCode(), totalCost, 1, getDisplayName());
      }

      @Override
      public int getEstimatedDaysToDelivery(String destination) {
          return 1;
      }

      @Override
      public boolean isAvailableForDestination(String destination) {
          String country = destination.length() >= 2 ? destination.substring(0, 2).toUpperCase() : "";
          return DOMESTIC_ONLY.contains(country);
      }

      @Override
      public String getMethodCode() { return "OVERNIGHT"; }

      @Override
      public String getDisplayName() { return "Overnight Shipping (Next business day)"; }

      @Override
      public boolean supportsHazardousMaterials() { return true; }
  }
src/main/java/com/shipping/strategy/FreeShippingStrategy.java: |
  package com.shipping.strategy;

  import com.shipping.model.ShippingOrder;
  import com.shipping.model.ShippingQuote;
  import org.springframework.stereotype.Component;
  import java.math.BigDecimal;

  @Component
  public class FreeShippingStrategy implements ShippingStrategy {
      private static final BigDecimal MINIMUM_ORDER_VALUE = new BigDecimal("50.00");

      @Override
      public ShippingQuote calculateQuote(ShippingOrder order) {
          if (order.getOrderValue().compareTo(MINIMUM_ORDER_VALUE) < 0) {
              throw new IllegalStateException("Order value too low for free shipping");
          }
          return new ShippingQuote(getMethodCode(), BigDecimal.ZERO, 7, getDisplayName());
      }

      @Override
      public int getEstimatedDaysToDelivery(String destination) {
          return 7;
      }

      @Override
      public boolean isAvailableForDestination(String destination) {
          return destination.startsWith("US");
      }

      @Override
      public String getMethodCode() { return "FREE"; }

      @Override
      public String getDisplayName() { return "Free Shipping (5-7 business days, orders $50+)"; }
  }
src/main/java/com/shipping/model/ShippingQuote.java: |
  package com.shipping.model;

  import java.math.BigDecimal;
  import java.time.LocalDate;

  public record ShippingQuote(
      String methodCode,
      BigDecimal cost,
      int estimatedDays,
      String displayName
  ) {
      public LocalDate getEstimatedDeliveryDate() {
          return LocalDate.now().plusDays(estimatedDays);
      }

      public boolean isFree() {
          return cost.compareTo(BigDecimal.ZERO) == 0;
      }
  }
