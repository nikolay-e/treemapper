name: java_022_factory_pattern
initial:
  src/main/java/com/example/Notification.java: |
    package com.example;

    public interface Notification {
        void send(String message);
    }
  src/main/java/com/example/EmailNotification.java: |
    package com.example;

    public class EmailNotification implements Notification {
        @Override
        public void send(String message) {
            System.out.println("Email: " + message);
        }
    }
changed:
  src/main/java/com/example/NotificationFactory.java: |
    package com.example;

    public class NotificationFactory {
        public enum Type {
            EMAIL, SMS, PUSH
        }

        public static Notification create(Type type) {
            return switch (type) {
                case EMAIL -> new EmailNotification();
                case SMS -> new SmsNotification();
                case PUSH -> new PushNotification();
            };
        }
    }
  src/main/java/com/example/SmsNotification.java: |
    package com.example;

    public class SmsNotification implements Notification {
        @Override
        public void send(String message) {
            System.out.println("SMS: " + message);
        }
    }
  src/main/java/com/example/PushNotification.java: |
    package com.example;

    public class PushNotification implements Notification {
        @Override
        public void send(String message) {
            System.out.println("Push: " + message);
        }
    }
assertions:
  must_include:
  - NotificationFactory
  - create
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add factory pattern for notifications
