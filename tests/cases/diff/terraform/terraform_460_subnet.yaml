name: terraform_460_subnet
initial:
  network.tf: |
    resource "aws_vpc" "main" {
      cidr_block = "10.0.0.0/16"
    }
changed:
  network.tf: |
    resource "aws_vpc" "main" {
      cidr_block = "10.0.0.0/16"
    }

    resource "aws_subnet" "private" {
      count             = 2
      vpc_id            = aws_vpc.main.id
      cidr_block        = cidrsubnet(aws_vpc.main.cidr_block, 8, count.index)
      availability_zone = data.aws_availability_zones.available.names[count.index]

      tags = {
        Name = "private-subnet-${count.index}"
      }
    }
assertions:
  must_include:
  - network.tf
options:
  commit_message: Add subnet
