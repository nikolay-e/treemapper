name: tf_042_locals_block
initial:
  locals.tf: |
    locals {
      common_tags = {
        Project = "myapp"
        Owner   = "team"
      }
    }
  main.tf: |
    resource "aws_instance" "web" {
      ami           = "ami-12345678"
      instance_type = "t3.micro"
      tags          = local.common_tags
    }
changed:
  locals.tf: |
    locals {
      common_tags = {
        Project     = "myapp"
        Owner       = "team"
        Environment = "prod"
      }
    }
assertions:
  must_include:
    - aws_instance
options:
  commit_message: add environment tag
