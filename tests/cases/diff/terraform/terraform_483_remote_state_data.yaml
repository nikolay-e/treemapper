name: terraform_483_remote_state_data
initial:
  main.tf: |
    resource "aws_instance" "web" {
      subnet_id = "subnet-12345"
    }
changed:
  main.tf: |
    data "terraform_remote_state" "vpc" {
      backend = "s3"
      config = {
        bucket = "terraform-state"
        key    = "vpc/terraform.tfstate"
        region = "us-east-1"
      }
    }

    resource "aws_instance" "web" {
      subnet_id = data.terraform_remote_state.vpc.outputs.subnet_id
    }
assertions:
  must_include:
  - main.tf
options:
  commit_message: Add remote state data source
