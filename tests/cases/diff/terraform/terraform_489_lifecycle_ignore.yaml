name: terraform_489_lifecycle_ignore
initial:
  main.tf: |
    resource "aws_instance" "web" {
      ami           = var.ami_id
      instance_type = "t3.micro"
    }
changed:
  main.tf: |
    resource "aws_instance" "web" {
      ami           = var.ami_id
      instance_type = "t3.micro"

      lifecycle {
        ignore_changes = [
          ami,
          user_data,
          tags["LastModified"],
        ]
      }
    }
assertions:
  must_include:
  - main.tf
options:
  commit_message: Add lifecycle ignore_changes
