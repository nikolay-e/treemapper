name: structural_nested_function_changed
initial:
  decorators.py: |
    def retry(max_attempts):
        def decorator(func):
            def wrapper(*args):
                for i in range(max_attempts):
                    try:
                        return func(*args)
                    except Exception:
                        if i == max_attempts - 1:
                            raise
                return None
            return wrapper
        return decorator
changed:
  decorators.py: |
    import time

    def retry(max_attempts):
        def decorator(func):
            def wrapper(*args):
                for i in range(max_attempts):
                    try:
                        return func(*args)
                    except Exception:
                        if i == max_attempts - 1:
                            raise
                        time.sleep(0.1 * (i + 1))
                return None
            return wrapper
        return decorator
assertions:
  must_include:
  - decorators.py
options:
  commit_message: Add exponential backoff
