name: monorepo_cross_package_type
initial:
  packages/types/src/user.ts: |
    export interface User {
        id: string;
        name: string;
    }
  packages/api/src/routes/users.ts: |
    import { User } from '@myorg/types';

    export function getUser(id: string): User {
        return { id, name: 'John' };
    }
  packages/web/src/hooks/useUser.ts: |
    import { User } from '@myorg/types';

    export function useUser(id: string): User | null {
        return { id, name: 'John' };
    }
changed:
  packages/types/src/user.ts: |
    export interface User {
        id: string;
        name: string;
        email: string;
        role: UserRole;
        createdAt: Date;
    }

    export enum UserRole {
        USER = 'user',
        ADMIN = 'admin',
        MODERATOR = 'moderator',
    }

    export type UserCreateInput = Omit<User, 'id' | 'createdAt'>;
    export type UserUpdateInput = Partial<UserCreateInput>;
assertions:
  must_include:
  - user.ts
options:
  commit_message: Add email, role and utility types to User
