must_include_files:
  - config/database.yaml
  - src/database/connection.py
must_include_content:
  - |
    database:
      host: db.production.example.com
      port: 5432
      name: myapp_production
      pool_size: 50
      timeout: 60
      ssl_mode: require
  - |
    class DatabaseConfig:
        def __init__(self, config_path: Path):
            with open(config_path) as f:
                config = yaml.safe_load(f)

            db_config = config.get("database", {})
            self.host = os.getenv("DATABASE_HOST", db_config.get("host", "localhost"))
            self.port = int(os.getenv("DATABASE_PORT", db_config.get("port", 5432)))
            self.name = db_config.get("name", "app")
            self.pool_size = db_config.get("pool_size", 5)
            self.timeout = db_config.get("timeout", 30)
            self.ssl_mode = db_config.get("ssl_mode", "prefer")
must_not_include:
  - GARBAGE_ALGO_007_CACHE_MARKER_A
  - GARBAGE_ALGO_007_TTL_MARKER_B
  - GARBAGE_ALGO_007_QUEUE_MARKER_C
  - GARBAGE_ALGO_007_WORKER_MARKER_D
  - GARBAGE_ALGO_007_JOBS_MARKER_E
  - GARBAGE_ALGO_007_PRIORITY_MARKER_F
  - QueueManager
  - garbage_cache_config.yaml
  - garbage_queue.py
