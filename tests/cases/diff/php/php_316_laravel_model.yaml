name: php_316_laravel_model
initial:
  Model.php: |
    <?php
    abstract class Model {
        protected array $fillable = [];
        protected array $attributes = [];

        public function fill(array $data): self {
            foreach ($data as $key => $value) {
                if (in_array($key, $this->fillable)) {
                    $this->attributes[$key] = $value;
                }
            }
            return $this;
        }
    }
  User.php: |
    <?php
    class User {}
changed:
  User.php: |
    <?php
    require_once 'Model.php';

    class User extends Model {
        protected array $fillable = ['name', 'email', 'password'];

        public static function create(array $data): self {
            $user = new self();
            return $user->fill($data);
        }
    }
assertions:
  must_include:
  - extends Model
  - fill
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add Laravel model
