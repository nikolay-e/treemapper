name: php_317_laravel_relationship
initial:
  Post.php: |
    <?php
    class Post {
        public int $id;
        public int $user_id;
        public string $title;

        public function __construct(int $id, int $user_id, string $title) {
            $this->id = $id;
            $this->user_id = $user_id;
            $this->title = $title;
        }
    }
  User.php: |
    <?php
    class User {}
changed:
  User.php: |
    <?php
    require_once 'Post.php';

    class User {
        public int $id;
        public string $name;
        private array $posts = [];

        public function __construct(int $id, string $name) {
            $this->id = $id;
            $this->name = $name;
        }

        public function posts(): array {
            return $this->posts;
        }

        public function addPost(Post $post): void {
            $this->posts[] = $post;
        }
    }
assertions:
  must_include:
  - addPost(Post
  - posts()
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add Laravel relationship
