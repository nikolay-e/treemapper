name: php_313_anonymous_class
initial:
  Handler.php: |
    <?php
    interface Handler {
        public function handle(mixed $data): mixed;
    }
  app.php: |
    <?php
    echo "Hello";
changed:
  app.php: |
    <?php
    require_once 'Handler.php';

    $handler = new class implements Handler {
        public function handle(mixed $data): mixed {
            return strtoupper($data);
        }
    };

    echo $handler->handle('hello');
assertions:
  must_include:
  - implements Handler
  - handle
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add anonymous class
