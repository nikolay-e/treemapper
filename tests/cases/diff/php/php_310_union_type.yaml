name: php_310_union_type
initial:
  Data.php: |
    <?php
    class Data {
        public mixed $value;

        public function __construct(mixed $value) {
            $this->value = $value;
        }
    }
  Parser.php: |
    <?php
    class Parser {}
changed:
  Parser.php: |
    <?php
    require_once 'Data.php';

    class Parser {
        public function parse(string|array $input): Data {
            if (is_string($input)) {
                return new Data(json_decode($input, true));
            }
            return new Data($input);
        }
    }
assertions:
  must_include:
  - new Data
  - string|array
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add union type
