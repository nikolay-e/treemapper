name: php_311_attribute
initial:
  Route.php: |
    <?php
    #[Attribute]
    class Route {
        public function __construct(
            public string $path,
            public string $method = 'GET'
        ) {}
    }
  Controller.php: |
    <?php
    class Controller {}
changed:
  Controller.php: |
    <?php
    require_once 'Route.php';

    class Controller {
        #[Route('/api/users', 'GET')]
        public function index(): array {
            return ['users' => []];
        }

        #[Route('/api/users', 'POST')]
        public function store(): array {
            return ['created' => true];
        }
    }
assertions:
  must_include:
  - '#[Route'
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add attribute
