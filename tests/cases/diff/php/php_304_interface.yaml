name: php_304_interface
initial:
  RequestHandler.php: |
    <?php
    interface RequestHandler {
        public function handle(array $request): array;
        public function validate(array $request): bool;
    }
  Handler.php: |
    <?php
    class Handler {}
changed:
  Handler.php: |
    <?php
    require_once 'RequestHandler.php';

    class Handler implements RequestHandler {
        public function handle(array $request): array {
            if (!$this->validate($request)) {
                return ['error' => 'Invalid request'];
            }
            return ['success' => true];
        }

        public function validate(array $request): bool {
            return isset($request['action']);
        }
    }
assertions:
  must_include:
  - implements RequestHandler
  - handle
  - validate
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add interface implementation
