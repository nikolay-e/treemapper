name: yaml_011_storage_config
initial:
  config/storage.yaml: |
    storage:
      backend: local
      path: /data/uploads
  src/storage.py: |
    class StorageBackend:
        def __init__(self, backend: str, path: str):
            self.backend = backend
            self.path = path

        def save(self, filename: str, data: bytes):
            pass
changed:
  config/storage.yaml: |
    storage:
      backend: s3
      bucket: my-bucket
      region: us-east-1
assertions:
  must_include:
    - StorageBackend
options:
  commit_message: switch to s3
