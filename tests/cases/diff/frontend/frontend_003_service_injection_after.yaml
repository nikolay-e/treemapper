auth.service.ts: "import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\nexport interface AuthUser {\n    id: string;\n    email: string;\n    token: string;\n\
  }\n\n@Injectable({ providedIn: 'root' })\nexport class AuthService {\n    private currentUserSubject = new BehaviorSubject<AuthUser | null>(null);\n\n    get currentUser$(): Observable<AuthUser | null>\
  \ {\n        return this.currentUserSubject.asObservable();\n    }\n\n    get isAuthenticated(): boolean {\n        return this.currentUserSubject.value !== null;\n    }\n\n    login(email: string, password:\
  \ string): Promise<AuthUser> {\n        return fetch('/api/login', {\n            method: 'POST',\n            body: JSON.stringify({ email, password }),\n        })\n            .then(res => res.json())\n\
  \            .then(user => {\n                this.currentUserSubject.next(user);\n                return user;\n            });\n    }\n\n    logout(): void {\n        this.currentUserSubject.next(null);\n\
  \    }\n}\n\n// angular_garbage_marker_003\n"
user.service.ts: "import { Injectable } from '@angular/core';\n\n@Injectable({ providedIn: 'root' })\nexport class UserService {\n    getUsers(): Promise<any[]> {\n        return fetch('/api/users').then(res\
  \ => res.json());\n    }\n}\n"
dashboard.component.ts: "import { Component, OnInit } from '@angular/core';\nimport { AuthService, AuthUser } from './auth.service';\nimport { UserService } from './user.service';\n\n@Component({\n    selector:\
  \ 'app-dashboard',\n    template: \\`\n        <div *ngIf=\"currentUser; else loginPrompt\">\n            <h1>Welcome, {{ currentUser.email }}</h1>\n            <h2>Users</h2>\n            <ul>\n    \
  \            <li *ngFor=\"let user of users\">{{ user.name }}</li>\n            </ul>\n            <button (click)=\"logout()\">Logout</button>\n        </div>\n        <ng-template #loginPrompt>\n  \
  \          <p>Please log in</p>\n        </ng-template>\n    \\`,\n})\nexport class DashboardComponent implements OnInit {\n    currentUser: AuthUser | null = null;\n    users: any[] = [];\n\n    constructor(\n\
  \        private authService: AuthService,\n        private userService: UserService\n    ) {}\n\n    ngOnInit(): void {\n        this.authService.currentUser$.subscribe(user => {\n            this.currentUser\
  \ = user;\n            if (user) {\n                this.loadUsers();\n            }\n        });\n    }\n\n    private async loadUsers(): Promise<void> {\n        this.users = await this.userService.getUsers();\n\
  \    }\n\n    logout(): void {\n        this.authService.logout();\n    }\n}\n"
