src/results.ts: |
  export interface Success<T> {
      type: 'success';
      data: T;
      timestamp: Date;
  }

  export interface Failure {
      type: 'failure';
      error: Error;
      code: number;
  }

  export interface Loading {
      type: 'loading';
      progress?: number;
  }
src/handlers.ts: |
  import { Success, Failure, Loading } from './results';

  export type Result<T> = Success<T> | Failure | Loading;

  export function handleResult<T>(result: Result<T>): string {
      switch (result.type) {
          case 'success':
              return `Data: ${JSON.stringify(result.data)}`;
          case 'failure':
              return `Error ${result.code}: ${result.error.message}`;
          case 'loading':
              return `Loading... ${result.progress ?? 0}%`;
      }
  }

  export function isSuccess<T>(result: Result<T>): result is Success<T> {
      return result.type === 'success';
  }

  export function isFailure<T>(result: Result<T>): result is Failure {
      return result.type === 'failure';
  }
src/unrelated/color_utils.ts: |
  // GARBAGE_FE_022_COLOR_A
  export interface HSL {
      h: number;
      s: number;
      l: number;
  }

  // GARBAGE_FE_022_COLOR_B
  export function hslToHex(hsl: HSL): string {
      const { h, s, l } = hsl;
      const a = s * Math.min(l, 1 - l);
      const f = (n: number) => {
          const k = (n + h / 30) % 12;
          return l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
      };
      return '#' + [f(0), f(8), f(4)]
          .map(x => Math.round(x * 255).toString(16).padStart(2, '0'))
          .join('');
  }

  // GARBAGE_FE_022_CONTRAST_C
  export function contrastRatio(fg: HSL, bg: HSL): number {
      return Math.abs(fg.l - bg.l);
  }
src/unrelated/debounce_utils.ts: |
  // GARBAGE_FE_022_DEBOUNCE_D
  export function debounce<T extends (...args: any[]) => void>(
      fn: T, delay: number
  ): T {
      let timer: ReturnType<typeof setTimeout>;
      return ((...args: any[]) => {
          clearTimeout(timer);
          timer = setTimeout(() => fn(...args), delay);
      }) as T;
  }

  // GARBAGE_FE_022_THROTTLE_E
  export function throttle<T extends (...args: any[]) => void>(
      fn: T, limit: number
  ): T {
      let inThrottle = false;
      return ((...args: any[]) => {
          if (!inThrottle) {
              fn(...args);
              inThrottle = true;
              setTimeout(() => { inThrottle = false; }, limit);
          }
      }) as T;
  }
