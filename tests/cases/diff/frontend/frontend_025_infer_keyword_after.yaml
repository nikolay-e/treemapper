src/functions.ts: |
  export function createUser(name: string, age: number): { id: string; name: string; age: number } {
      return { id: crypto.randomUUID(), name, age };
  }

  export async function fetchData<T>(url: string): Promise<T> {
      const response = await fetch(url);
      return response.json();
  }

  export type EventHandler<T> = (event: T) => void;
src/infer_types.ts: |
  import { createUser, fetchData, EventHandler } from './functions';

  export type ReturnTypeOf<T> = T extends (...args: any[]) => infer R ? R : never;

  export type PromiseType<T> = T extends Promise<infer U> ? U : T;

  export type FirstArgument<T> = T extends (first: infer F, ...args: any[]) => any ? F : never;

  export type AllArguments<T> = T extends (...args: infer A) => any ? A : never;

  export type ArrayElement<T> = T extends (infer U)[] ? U : never;

  export type ExtractEventType<T> = T extends EventHandler<infer E> ? E : never;

  export type UserReturn = ReturnTypeOf<typeof createUser>;

  type UnpackPromise<T> = T extends Promise<infer U>
      ? U extends Promise<infer V>
          ? UnpackPromise<V>
          : U
      : T;

  export type DeepPromise = UnpackPromise<Promise<Promise<Promise<string>>>>;
src/unrelated/color_utils.ts: |
  // GARBAGE_FE_025_COLOR_A
  export interface HSL {
      h: number;
      s: number;
      l: number;
  }

  // GARBAGE_FE_025_COLOR_B
  export function hslToHex(hsl: HSL): string {
      const { h, s, l } = hsl;
      const a = s * Math.min(l, 1 - l);
      const f = (n: number) => {
          const k = (n + h / 30) % 12;
          return l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
      };
      return '#' + [f(0), f(8), f(4)]
          .map(x => Math.round(x * 255).toString(16).padStart(2, '0'))
          .join('');
  }

  // GARBAGE_FE_025_CONTRAST_C
  export function contrastRatio(fg: HSL, bg: HSL): number {
      return Math.abs(fg.l - bg.l);
  }
src/unrelated/debounce_utils.ts: |
  // GARBAGE_FE_025_DEBOUNCE_D
  export function debounce<T extends (...args: any[]) => void>(
      fn: T, delay: number
  ): T {
      let timer: ReturnType<typeof setTimeout>;
      return ((...args: any[]) => {
          clearTimeout(timer);
          timer = setTimeout(() => fn(...args), delay);
      }) as T;
  }

  // GARBAGE_FE_025_THROTTLE_E
  export function throttle<T extends (...args: any[]) => void>(
      fn: T, limit: number
  ): T {
      let inThrottle = false;
      return ((...args: any[]) => {
          if (!inThrottle) {
              fn(...args);
              inThrottle = true;
              setTimeout(() => { inThrottle = false; }, limit);
          }
      }) as T;
  }
