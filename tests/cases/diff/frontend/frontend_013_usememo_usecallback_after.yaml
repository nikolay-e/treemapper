src/utils.ts: |
  export function expensiveCalculation(items: number[]): number {
      return items.reduce((acc, item) => acc + item * item, 0);
  }

  export function formatNumber(num: number): string {
      return new Intl.NumberFormat('en-US').format(num);
  }
src/DataDisplay.tsx: |
  import React, { useMemo, useCallback, useState } from 'react';
  import { expensiveCalculation, formatNumber } from './utils';

  interface DataDisplayProps {
      items: number[];
  }

  export function DataDisplay({ items }: DataDisplayProps) {
      const [selectedIndex, setSelectedIndex] = useState<number | null>(null);

      const total = useMemo(() => {
          return expensiveCalculation(items);
      }, [items]);

      const formattedTotal = useMemo(() => {
          return formatNumber(total);
      }, [total]);

      const handleSelect = useCallback((index: number) => {
          setSelectedIndex(index);
      }, []);

      return (
          <div>
              <p>Total: {formattedTotal}</p>
              <ul>
                  {items.map((item, index) => (
                      <li key={index} onClick={() => handleSelect(index)}>
                          {item}
                      </li>
                  ))}
              </ul>
          </div>
      );
  }
src/unrelated/color_utils.ts: |
  // GARBAGE_FE_013_COLOR_A
  export interface HSL {
      h: number;
      s: number;
      l: number;
  }

  // GARBAGE_FE_013_COLOR_B
  export function hslToHex(hsl: HSL): string {
      const { h, s, l } = hsl;
      const a = s * Math.min(l, 1 - l);
      const f = (n: number) => {
          const k = (n + h / 30) % 12;
          return l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
      };
      return '#' + [f(0), f(8), f(4)]
          .map(x => Math.round(x * 255).toString(16).padStart(2, '0'))
          .join('');
  }

  // GARBAGE_FE_013_CONTRAST_C
  export function contrastRatio(fg: HSL, bg: HSL): number {
      return Math.abs(fg.l - bg.l);
  }
src/unrelated/debounce_utils.ts: |
  // GARBAGE_FE_013_DEBOUNCE_D
  export function debounce<T extends (...args: any[]) => void>(
      fn: T, delay: number
  ): T {
      let timer: ReturnType<typeof setTimeout>;
      return ((...args: any[]) => {
          clearTimeout(timer);
          timer = setTimeout(() => fn(...args), delay);
      }) as T;
  }

  // GARBAGE_FE_013_THROTTLE_E
  export function throttle<T extends (...args: any[]) => void>(
      fn: T, limit: number
  ): T {
      let inThrottle = false;
      return ((...args: any[]) => {
          if (!inThrottle) {
              fn(...args);
              inThrottle = true;
              setTimeout(() => { inThrottle = false; }, limit);
          }
      }) as T;
  }
