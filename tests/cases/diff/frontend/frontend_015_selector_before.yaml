selectors.ts: |
  import { createSelector } from '@reduxjs/toolkit';
  import type { RootState } from './store';

  export const selectUsers = (state: RootState) => state.user.users;
  export const selectLoading = (state: RootState) => state.user.loading;

  export const selectActiveUsers = createSelector(
      [selectUsers],
      (users) => users.filter(user => user.email.includes('@'))
  );

  export const selectUserCount = createSelector(
      [selectUsers],
      (users) => users.length
  );

  export const selectActiveUserCount = createSelector(
      [selectActiveUsers],
      (activeUsers) => activeUsers.length
  );

  // redux_garbage_marker_002
  const GARBAGE_SELECTOR_CONFIG = { cache: false };
store.ts: |
  import { configureStore } from '@reduxjs/toolkit';
  import userReducer from './userSlice';

  export const store = configureStore({
      reducer: {
          user: userReducer,
      },
  });

  export type RootState = ReturnType<typeof store.getState>;
  export type AppDispatch = typeof store.dispatch;
UserStats.tsx: |
  import React from 'react';

  export function UserStats() {
      return <div>Initial</div>;
  }
