name: ts_005_mapped_type
initial:
  models.ts: |
    export interface UserModel {
        id: string;
        name: string;
        email: string;
        password: string;
    }

    export interface ProductModel {
        id: string;
        name: string;
        price: number;
        stock: number;
    }

    // ts_garbage_marker_005
    interface GarbageModel { garbage: string }
  mapped.ts: |
    console.log('initial');
changed:
  mapped.ts: |
    import { UserModel, ProductModel } from './models';

    export type Readonly<T> = {
        readonly [K in keyof T]: T[K];
    };

    export type Mutable<T> = {
        -readonly [K in keyof T]: T[K];
    };

    export type Optional<T> = {
        [K in keyof T]?: T[K];
    };

    export type Required<T> = {
        [K in keyof T]-?: T[K];
    };

    export type Nullable<T> = {
        [K in keyof T]: T[K] | null;
    };

    export type ReadonlyUser = Readonly<UserModel>;
    export type OptionalProduct = Optional<ProductModel>;
    export type NullableUser = Nullable<UserModel>;
assertions:
  must_include:
  - mapped.ts
  - keyof T
  must_not_include:
  - ts_garbage_marker_005
options:
  commit_message: Add mapped types
