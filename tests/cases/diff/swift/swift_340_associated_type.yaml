name: swift_340_associated_type
initial:
  Container.swift: |
    protocol Container {
        associatedtype Item
        var count: Int { get }
        mutating func append(_ item: Item)
        subscript(i: Int) -> Item { get }
    }

    protocol IterableContainer: Container {
        associatedtype Iterator: IteratorProtocol where Iterator.Element == Item
        func makeIterator() -> Iterator
    }
    // unused_marker_67890
  Stack.swift: |
    // Initial
    struct Stack {}
changed:
  Stack.swift: |
    struct Stack<Element>: Container {
        typealias Item = Element

        private var items: [Element] = []

        var count: Int {
            return items.count
        }

        mutating func append(_ item: Element) {
            items.append(item)
        }

        subscript(i: Int) -> Element {
            return items[i]
        }

        mutating func push(_ item: Element) {
            items.append(item)
        }

        mutating func pop() -> Element? {
            return items.popLast()
        }
    }
assertions:
  must_include:
  - Stack
  - Container
  - append
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add associated type implementation
