name: swift_333_binding
initial:
  User.swift: |
    struct User {
        var name: String
        var email: String
    }
    // garbage_marker_12345
  UserEditor.swift: |
    // Initial
    import SwiftUI
    struct UserEditor: View {
        var body: some View { Text("") }
    }
changed:
  UserEditor.swift: |
    import SwiftUI

    struct UserEditor: View {
        @Binding var selectedUser: User?

        var body: some View {
            if let user = selectedUser {
                Form {
                    TextField("Name", text: Binding(
                        get: { user.name },
                        set: { selectedUser?.name = $0 }
                    ))
                    TextField("Email", text: Binding(
                        get: { user.email },
                        set: { selectedUser?.email = $0 }
                    ))
                }
            } else {
                Text("No user selected")
            }
        }
    }
assertions:
  must_include:
  - UserEditor
  - Binding
  - User
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add @Binding
