name: docs_016_graphql_mutation
initial:
  schema.graphql: |
    type Mutation {
        createUser(input: CreateUserInput!): User!
    }

    input CreateUserInput {
        name: String!
        email: String!
    }
  src/resolvers/mutations.py: |
    def resolve_create_user(obj, info, input):
        return create_user(input['name'], input['email'])
changed:
  schema.graphql: |
    type Mutation {
        createUser(input: CreateUserInput!): User!
        updateUser(id: ID!, input: UpdateUserInput!): User!
        deleteUser(id: ID!): Boolean!
    }

    input CreateUserInput {
        name: String!
        email: String!
        role: UserRole = USER
    }

    input UpdateUserInput {
        name: String
        email: String
    }

    enum UserRole {
        USER
        ADMIN
        MODERATOR
    }
assertions:
  must_include:
  - schema.graphql
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
