sql/procedures/calculate_order_total.sql: |
  CREATE OR REPLACE FUNCTION calculate_order_total(order_id INTEGER)
  RETURNS DECIMAL AS $$
  DECLARE
      total DECIMAL;
  BEGIN
      SELECT SUM(quantity * price) INTO total
      FROM order_items
      WHERE order_items.order_id = calculate_order_total.order_id;

      RETURN COALESCE(total, 0);
  END;
  $$ LANGUAGE plpgsql;

src/services/order_service.py: |
  from decimal import Decimal
  from typing import Optional

  class OrderService:
      def __init__(self, db):
          self.db = db

      def get_order_total(self, order_id: int) -> Decimal:
          result = self.db.execute(
              "SELECT calculate_order_total(%s)",
              [order_id]
          )
          return Decimal(str(result[0][0]))

      def update_order_total(self, order_id: int) -> None:
          total = self.get_order_total(order_id)
          self.db.execute(
              "UPDATE orders SET total = %s WHERE id = %s",
              [total, order_id]
          )

garbage_procedure_manager.ts: |
  const GARBAGE_CICD_DOCS_068_PROCEDURE_MARKER_A = "plpgsql";
  const GARBAGE_CICD_DOCS_068_SECURITY_MARKER_B = "definer";

  class GarbageProcedureManager {
    static GARBAGE_CICD_DOCS_068_VOLATILE_MARKER_C = "stable";
    manage(): void {}
  }

garbage_function_executor.ts: |
  const GARBAGE_CICD_DOCS_068_EXECUTOR_MARKER_D = "prepared";
  const GARBAGE_CICD_DOCS_068_CACHE_MARKER_E = 300;

  class GarbageFunctionExecutor {
    static GARBAGE_CICD_DOCS_068_PARALLEL_MARKER_F = false;
    execute(): void {}
  }
