name: docs_013_openapi_request_body
initial:
  openapi.yaml: |
    openapi: 3.0.0
    paths:
      /orders:
        post:
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    items:
                      type: array
  src/validators/order_validator.py: |
    def validate_order(data):
        if 'items' not in data:
            raise ValueError("Items required")
        return True
changed:
  openapi.yaml: |
    openapi: 3.0.0
    paths:
      /orders:
        post:
          requestBody:
            required: true
            content:
              application/json:
                schema:
                  type: object
                  required:
                    - items
                    - shipping_address
                  properties:
                    items:
                      type: array
                      minItems: 1
                    shipping_address:
                      type: string
                    notes:
                      type: string
                      maxLength: 500
assertions:
  must_include:
  - openapi.yaml
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
