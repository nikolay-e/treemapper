name: cicd_032_gitlab_dependencies
initial:
  .gitlab-ci.yml: |
    build:
      script:
        - npm run build
      artifacts:
        paths:
          - dist/

    deploy:
      script:
        - ./deploy.sh
changed:
  .gitlab-ci.yml: |
    build:
      script:
        - npm run build
      artifacts:
        paths:
          - dist/

    deploy:
      dependencies:
        - build
      script:
        - ./deploy.sh dist/
assertions:
  must_include:
  - .gitlab-ci.yml
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
