name: cicd_019_gha_outputs
initial:
  .github/workflows/ci.yml: |
    name: CI
    jobs:
      version:
        runs-on: ubuntu-latest
        steps:
          - run: echo "1.0.0"
      deploy:
        needs: version
        runs-on: ubuntu-latest
        steps:
          - run: ./deploy.sh
changed:
  .github/workflows/ci.yml: |
    name: CI
    jobs:
      version:
        runs-on: ubuntu-latest
        outputs:
          version: ${{ steps.version.outputs.value }}
        steps:
          - id: version
            run: echo "value=1.0.0" >> $GITHUB_OUTPUT
      deploy:
        needs: version
        runs-on: ubuntu-latest
        steps:
          - run: ./deploy.sh --version ${{ needs.version.outputs.version }}
assertions:
  must_include:
  - ci.yml
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
