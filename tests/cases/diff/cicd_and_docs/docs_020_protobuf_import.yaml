name: docs_020_protobuf_import
initial:
  proto/common.proto: |
    syntax = "proto3";

    package common;

    message Pagination {
        int32 page = 1;
        int32 page_size = 2;
    }
  proto/orders.proto: |
    syntax = "proto3";

    package orders;

    import "proto/common.proto";

    message ListOrdersRequest {
        common.Pagination pagination = 1;
    }
changed:
  proto/common.proto: |
    syntax = "proto3";

    package common;

    message Pagination {
        int32 page = 1;
        int32 page_size = 2;
        string sort_by = 3;
        SortOrder sort_order = 4;
    }

    enum SortOrder {
        SORT_ORDER_UNSPECIFIED = 0;
        SORT_ORDER_ASC = 1;
        SORT_ORDER_DESC = 2;
    }

    message DateRange {
        string start_date = 1;
        string end_date = 2;
    }
assertions:
  must_include:
  - common.proto
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
