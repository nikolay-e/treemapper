name: docs_006_example_annotation
initial:
  src/parser.ts: |
    /**
     * Parse JSON string
     * @example
     * const data = parse('{"key": "value"}');
     */
    export function parse(input: string): object {
        return JSON.parse(input);
    }
  examples/parsing.ts: |
    import { parse } from '../src/parser';

    const data = parse('{"key": "value"}');
    console.log(data);
changed:
  src/parser.ts: |
    /**
     * Parse JSON string with validation
     * @example
     * // Basic usage
     * const data = parse('{"key": "value"}');
     *
     * @example
     * // With schema validation
     * const schema = { type: 'object', required: ['key'] };
     * const data = parse('{"key": "value"}', { schema });
     *
     * @example
     * // See examples/parsing.ts for more examples
     */
    export function parse(input: string, options?: ParseOptions): object {
        const parsed = JSON.parse(input);
        if (options?.schema) {
            validate(parsed, options.schema);
        }
        return parsed;
    }
assertions:
  must_include:
  - parser.ts
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
