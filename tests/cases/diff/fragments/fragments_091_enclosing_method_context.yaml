name: fragments_091_enclosing_method_context
initial:
  small.py: |
    from typing import Any
    import json

    def func():
        pass

    def unrelated_before_091():
        return "GARBAGE_FRAG_unrelatedbefore091"

    class UnrelatedClassA:
        MARKER = "GARBAGE_FRAG_classa091"

        def method_a(self):
            return "GARBAGE_FRAG_methoda091"

    def unrelated_middle_091():
        return "GARBAGE_FRAG_unrelatedmiddle091"

    class UnrelatedClassB:
        VALUE = "GARBAGE_FRAG_classb091"

        def method_b1(self):
            return "GARBAGE_FRAG_methodb1_091"

        def method_b2(self):
            return "GARBAGE_FRAG_methodb2_091"

    def unrelated_after_091():
        return "GARBAGE_FRAG_unrelatedafter091"

    TRAILING_CONSTANT = "GARBAGE_FRAG_trailingconst091"
  garbage_small_091.py: |
    def garbage_func_091():
        return "GARBAGE_FRAG_garbfunc091"

    class GarbageSmall091:
        CONST = "GARBAGE_FRAG_garbsmall091"

        def garbage_method(self):
            return "GARBAGE_FRAG_garbmethod091"

    GARBAGE_CONST = "GARBAGE_FRAG_garbconst091"
changed:
  small.py: |
    from typing import Any
    import json

    def func():
        return 1

    def unrelated_before_091():
        return "GARBAGE_FRAG_unrelatedbefore091"

    class UnrelatedClassA:
        MARKER = "GARBAGE_FRAG_classa091"

        def method_a(self):
            return "GARBAGE_FRAG_methoda091"

    def unrelated_middle_091():
        return "GARBAGE_FRAG_unrelatedmiddle091"

    class UnrelatedClassB:
        VALUE = "GARBAGE_FRAG_classb091"

        def method_b1(self):
            return "GARBAGE_FRAG_methodb1_091"

        def method_b2(self):
            return "GARBAGE_FRAG_methodb2_091"

    def unrelated_after_091():
        return "GARBAGE_FRAG_unrelatedafter091"

    TRAILING_CONSTANT = "GARBAGE_FRAG_trailingconst091"
assertions:
  must_include:
    - func
    - return
  must_not_include:
    - GARBAGE_FRAG_unrelatedbefore091
    - GARBAGE_FRAG_classa091
    - GARBAGE_FRAG_methoda091
    - GARBAGE_FRAG_unrelatedmiddle091
    - GARBAGE_FRAG_classb091
    - GARBAGE_FRAG_methodb1_091
    - GARBAGE_FRAG_methodb2_091
    - GARBAGE_FRAG_unrelatedafter091
    - GARBAGE_FRAG_trailingconst091
    - GARBAGE_FRAG_garbfunc091
    - GARBAGE_FRAG_garbsmall091
    - GARBAGE_FRAG_garbmethod091
    - GARBAGE_FRAG_garbconst091
    - garbage_small_091.py
    - unrelated_before_091
    - unrelated_middle_091
    - unrelated_after_091
    - UnrelatedClassA
    - UnrelatedClassB
    - GarbageSmall091
options:
  commit_message: Add return
