name: cicd_100_pyproject_scripts
initial:
  pyproject.toml: |
    [project]
    name = "myapp"
    version = "1.0.0"

    [project.scripts]
    myapp = "src.cli:main"
  src/cli.py: |
    def main():
        print("CLI started")
changed:
  pyproject.toml: |
    [project]
    name = "myapp"
    version = "1.1.0"

    [project.scripts]
    myapp = "src.cli:main"
    myapp-server = "src.server:run"

    [project.optional-dependencies]
    dev = ["pytest", "ruff"]
assertions:
  must_include:
    - main
options:
  commit_message: add server script
