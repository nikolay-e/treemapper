name: cicd_087_github_workflow_test_command
initial:
  .github/workflows/test.yml: |
    name: Test
    on: [push]
    jobs:
      test:
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v4
          - run: pytest tests/
  tests/test_app.py: |
    def test_addition():
        assert 1 + 1 == 2

    def test_subtraction():
        assert 2 - 1 == 1
changed:
  .github/workflows/test.yml: |
    name: Test
    on: [push]
    jobs:
      test:
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v4
          - run: pip install -e .[dev]
          - run: pytest tests/ --cov=src --cov-report=xml
assertions:
  must_include:
    - test_addition
options:
  commit_message: add coverage
