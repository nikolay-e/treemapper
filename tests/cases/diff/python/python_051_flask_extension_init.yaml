name: python_051_flask_extension_init
initial:
  extensions.py: |
    from flask_sqlalchemy import SQLAlchemy
    from flask_migrate import Migrate

    db = SQLAlchemy()
    migrate = Migrate()

    def init_extensions(app):
        db.init_app(app)
        migrate.init_app(app, db)
  app.py: |
    from flask import Flask
  garbage.py: |
    garbage_marker_12345 = "extension garbage"
    unused_marker_67890 = "unused extension"
changed:
  app.py: |
    from flask import Flask
    from extensions import init_extensions, db

    app = Flask(__name__)
    init_extensions(app)
assertions:
  must_include:
  - def init_extensions
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
