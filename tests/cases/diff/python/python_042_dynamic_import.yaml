name: python_042_dynamic_import
initial:
  plugins/plugin_a.py: |
    def execute():
        return "A"
  plugins/plugin_b.py: |
    def execute():
        return "B"
  loader.py: |
    def load():
        pass
  garbage.py: |
    garbage_marker_12345 = "dynamic garbage"
    unused_marker_67890 = "unused dynamic"
changed:
  loader.py: |
    import importlib

    def load(plugin_name: str):
        module = importlib.import_module(f"plugins.{plugin_name}")
        return module.execute()
assertions:
  must_include:
  - importlib.import_module
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
