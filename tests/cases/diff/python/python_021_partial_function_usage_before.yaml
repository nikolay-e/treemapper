formatters.py: |
  import functools
  from typing import Optional, Callable
  from dataclasses import dataclass
  from decimal import Decimal, ROUND_HALF_UP

  @dataclass
  class FormatOptions:
      precision: int = 2
      prefix: str = ""
      suffix: str = ""
      thousands_separator: bool = True

  def format_number(
      value: float,
      precision: int = 2,
      prefix: str = "",
      suffix: str = ""
  ) -> str:
      if not isinstance(value, (int, float, Decimal)):
          return str(value)
      decimal_value = Decimal(str(value))
      quantize_str = "0." + "0" * precision if precision > 0 else "0"
      rounded = decimal_value.quantize(Decimal(quantize_str), rounding=ROUND_HALF_UP)
      return f"{prefix}{rounded}{suffix}"

  format_currency = functools.partial(format_number, precision=2, prefix="$")
  format_percent = functools.partial(format_number, precision=1, suffix="%")

  class FormatterRegistry:
      def __init__(self):
          self._formatters: dict[str, Callable] = {}

      def register(self, name: str, formatter: Callable) -> None:
          self._formatters[name] = formatter

      def get(self, name: str) -> Optional[Callable]:
          return self._formatters.get(name)
reports.py: |
  def generate():
      pass
garbage_pdf_generator.py: |
  GARBAGE_PY_PDF_827364 = "pdf generation garbage"
  UNRELATED_PDF_MARKER_918273 = "unused reportlab config"

  class GarbagePDFGenerator:
      def garbage_create_pdf(self, content):
          return f"Garbage PDF: {content}"
garbage_excel_export.py: |
  GARBAGE_PY_EXCEL_918273 = "excel export garbage"
  UNRELATED_EXCEL_MARKER_827163 = "unused openpyxl styles"

  class GarbageExcelExporter:
      def garbage_create_workbook(self):
          return "Garbage workbook created"
