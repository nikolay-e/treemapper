name: ruby_293_refinement
initial:
  string_ext.rb: |
    module StringExtensions
      refine String do
        def shout
          upcase + "!"
        end

        def whisper
          downcase + "..."
        end
      end
    end
  messenger.rb: |
    # Initial
    class Messenger
    end
changed:
  messenger.rb: |
    require_relative 'string_ext'

    class Messenger
      using StringExtensions

      def loud_message(text)
        text.shout
      end

      def quiet_message(text)
        text.whisper
      end
    end
assertions:
  must_include:
  - using StringExtensions
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add refinement usage
