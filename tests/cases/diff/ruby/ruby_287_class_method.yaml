name: ruby_287_class_method
initial:
  user.rb: |
    class User
      def self.find(id)
        # Find user by id
        new(id: id, name: "User \#{id}")
      end

      def self.all
        []
      end

      attr_reader :id, :name

      def initialize(id:, name:)
        @id = id
        @name = name
      end
    end
  controller.rb: |
    # Initial
    class Controller
    end
changed:
  controller.rb: |
    require_relative 'user'

    class Controller
      def show(id)
        @user = User.find(id)
      end

      def index
        @users = User.all
      end
    end
assertions:
  must_include:
  - User.find
  - User.all
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add class method usage
