name: ruby_291_symbol_to_proc
initial:
  user.rb: |
    class User
      attr_reader :name, :email, :age

      def initialize(name:, email:, age:)
        @name = name
        @email = email
        @age = age
      end
    end
  report.rb: |
    # Initial
    class Report
    end
changed:
  report.rb: |
    require_relative 'user'

    class Report
      def initialize(users)
        @users = users
      end

      def names
        @users.map(&:name)
      end

      def emails
        @users.map(&:email)
      end

      def total_age
        @users.map(&:age).sum
      end
    end
assertions:
  must_include:
  - map(&:name)
  - map(&:email)
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add symbol to proc
