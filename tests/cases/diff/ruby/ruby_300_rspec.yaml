name: ruby_300_rspec
initial:
  user.rb: |
    class User
      attr_accessor :email

      def initialize(email:)
        @email = email
      end

      def valid?
        email =~ /\A[^@\s]+@[^@\s]+\z/
      end
    end
  user_spec.rb: |
    # Initial
    describe 'placeholder' do
    end
changed:
  user_spec.rb: |
    require_relative 'user'

    describe User do
      describe '#valid?' do
        it 'returns true for valid email' do
          user = User.new(email: 'test@example.com')
          expect(user.valid?).to be true
        end

        it 'returns false for invalid email' do
          user = User.new(email: 'invalid')
          expect(user.valid?).to be false
        end
      end
    end
assertions:
  must_include:
  - User.new
  - user.valid?
  must_not_include:
  - garbage_marker_12345
  - unused_marker_67890
options:
  commit_message: Add RSpec test
