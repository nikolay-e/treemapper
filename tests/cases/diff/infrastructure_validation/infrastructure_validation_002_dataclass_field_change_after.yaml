models.py: |
  from dataclasses import dataclass
  from typing import Optional
  from enum import Enum

  class OrderStatus(Enum):
      PENDING = "pending"
      PROCESSING = "processing"
      COMPLETED = "completed"
      CANCELLED = "cancelled"

  @dataclass
  class Order:
      id: int
      customer_id: int
      total: float
      priority: int = 0
      status: OrderStatus = OrderStatus.PENDING

  @dataclass
  class Customer:
      id: int
      name: str
      email: str

  def create_order(customer_id: int, total: float) -> Order:
      return Order(id=0, customer_id=customer_id, total=total)
services.py: |
  from models import Order, OrderStatus, create_order

  def create_order_for_customer(customer_id: int, total: float) -> Order:
      return create_order(customer_id=customer_id, total=total)

  def process_order(order: Order) -> str:
      order.status = OrderStatus.PROCESSING
      return f"Processing order {order.id} for customer {order.customer_id}"

  def complete_order(order: Order) -> str:
      order.status = OrderStatus.COMPLETED
      return f"Order {order.id} completed, total: {order.total}"
repository.py: |
  from models import Order
  from typing import List, Optional

  orders_db: List[Order] = []

  def save_order(order: Order) -> Order:
      order.id = len(orders_db) + 1
      orders_db.append(order)
      return order

  def find_order_by_id(order_id: int) -> Optional[Order]:
      for order in orders_db:
          if order.id == order_id:
              return order
      return None
scripts/seed_data.sh: |
  #!/bin/bash
  # GARBAGE_INFRA_002_SEED_SCRIPT_A
  GARBAGE_INFRA_002_SEED_COUNT_B=100
  python seed_orders.py
tests/test_models.py: |
  # GARBAGE_INFRA_002_MODEL_TEST_A
  GARBAGE_INFRA_002_TEST_FIXTURE_B = "test-order"
  def test_order_creation():
      pass
docs/data-model.md: |
  # Data Model
  GARBAGE_INFRA_002_MODEL_DOC_A
  GARBAGE_INFRA_002_SCHEMA_VERSION_B="v2"
migrations/001_init.sql: |
  -- GARBAGE_INFRA_002_MIGRATION_A
  -- GARBAGE_INFRA_002_TABLE_PREFIX_B: app_
  CREATE TABLE orders (id SERIAL PRIMARY KEY);
