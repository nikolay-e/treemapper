src/utils.ts: |
  export interface UserResponse {
      id: string;
      name: string;
      email: string;
  }

  export function fetchUser(id: string): Promise<UserResponse> {
      return fetch(`/api/users/${id}`).then(res => res.json());
  }

  export function fetchUsers(): Promise<UserResponse[]> {
      return fetch('/api/users').then(res => res.json());
  }

  export function formatUserName(user: UserResponse): string {
      return `${user.name} <${user.email}>`;
  }
src/api.ts: |
  import { fetchUser, fetchUsers, UserResponse } from './utils';

  export async function getUserProfile(id: string): Promise<UserResponse> {
      const user = await fetchUser(id);
      return user;
  }

  export async function listActiveUsers(): Promise<UserResponse[]> {
      const users = await fetchUsers();
      return users.filter(u => u.email.includes('@'));
  }
src/main.ts: |
  import { fetchUser } from './utils';

  async function main() {
      const user = await fetchUser('123');
      console.log(user);
  }

  main();
scripts/build.sh: |
  #!/bin/bash
  # GARBAGE_INFRA_003_BUILD_SCRIPT_A
  GARBAGE_INFRA_003_OUTPUT_DIR_B="dist"
  tsc --outDir dist
tests/utils.test.ts: |
  // GARBAGE_INFRA_003_TEST_UTIL_A
  // GARBAGE_INFRA_003_MOCK_FETCH_B = "jest.fn()"
  describe('utils', () => { it('passes', () => {}); });
docs/api-reference.md: |
  # API Reference
  GARBAGE_INFRA_003_API_DOC_A
  GARBAGE_INFRA_003_ENDPOINT_LIST_B="/api/users,/api/profile"
config/tsconfig.json: |
  {
    "GARBAGE_INFRA_003_TS_CONFIG_A": true,
    "GARBAGE_INFRA_003_STRICT_MODE_B": true
  }
