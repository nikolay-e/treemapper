infra/main.tf: |
  provider "aws" {
    region = var.region
  }

  resource "aws_s3_bucket" "data_bucket" {
    bucket = "myapp-data-${var.environment}"

    tags = {
      Environment = var.environment
      ManagedBy   = "terraform"
    }
  }

  resource "aws_s3_bucket_versioning" "data_bucket_versioning" {
    bucket = aws_s3_bucket.data_bucket.id
    versioning_configuration {
      status = "Enabled"
    }
  }

  resource "aws_iam_role" "lambda_role" {
    name = "lambda-execution-role-${var.environment}"
    assume_role_policy = jsonencode({
      Version = "2012-10-17"
      Statement = [{
        Action = "sts:AssumeRole"
        Effect = "Allow"
        Principal = { Service = "lambda.amazonaws.com" }
      }]
    })
  }

  resource "aws_iam_role_policy_attachment" "lambda_s3_access" {
    role       = aws_iam_role.lambda_role.name
    policy_arn = "arn:aws:iam::policy/AmazonS3ReadOnlyAccess"
  }

infra/variables.tf: |
  variable "environment" {
    type    = string
    default = "staging"
  }

  variable "region" {
    type    = string
    default = "us-east-1"
  }

  variable "enable_versioning" {
    type    = bool
    default = true
  }

scripts/GARBAGE_REG017_deploy.py: |
  GARBAGE_REG017_DEPLOY_MARKER = "deploy_garbage"
  def GARBAGE_REG017_deploy_to_staging():
      return "GARBAGE_REG017_DEPLOY_RESULT"

scripts/GARBAGE_REG017_cleanup.py: |
  GARBAGE_REG017_CLEANUP_MARKER = "cleanup_garbage"
  def GARBAGE_REG017_run_cleanup():
      return "GARBAGE_REG017_CLEANUP_RESULT"

src/GARBAGE_REG017_worker.py: |
  class GARBAGE_REG017_BackgroundWorker:
      GARBAGE_REG017_WORKER_MARKER = "worker_garbage"
      def GARBAGE_REG017_process_job(self):
          return "GARBAGE_REG017_WORKER_RESULT"

src/GARBAGE_REG017_scheduler.py: |
  GARBAGE_REG017_SCHEDULER_MARKER = "scheduler_garbage"
  def GARBAGE_REG017_schedule_task():
      return "GARBAGE_REG017_SCHEDULER_RESULT"
